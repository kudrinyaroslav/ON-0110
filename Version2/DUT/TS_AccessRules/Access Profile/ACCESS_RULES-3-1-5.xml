<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Draft Capabilities" Version="0.1">
  <Parameters>

  
    <TimeOut>100000</TimeOut>
    <Name>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</Name>
    <Description>
      TODO:
      
    </Description>
  </Parameters>
  
		<!-- Positive -->
  
  <Test ID="TC.ACCESS_RULES-3-1-5.101" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Correct response</Name>
    <Description>
      AccessControl service supported
      ScheduleList is empty
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>

	<Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>

	<Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>

	<Step id ="4">
		<Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!-- <Limit>1</Limit> -->
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>


	<!-- step6.1 -->

	<Step id="5">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">

        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

	<!-- step6.3 -->

    <Step id="6">
      <Command>Schedule10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="3" MaxSchedules="3" MaxTimePeriodsPerDay="10" MaxSpecialDayGroups="2" MaxDaysInSpecialDayGroup="1" MaxSpecialDaysSchedules="1" ExtendedRecurrenceSupported="true" SpecialDaysSupported="true" StateReportingSupported="false" xmlns:tcr="http://www.onvif.org/ver10/schedule/wsdl">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>

	<!-- step6.5 -->
	
    <Step id="7">
      <Command>Schedule10.CreateSpecialDayGroup</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SpecialDayGroup token="">
          <Name>Test SpecialDayGroup Name</Name>
          <Description>Test SpecialDayGroup Description</Description>
          <Days>
            BEGIN:VCALENDAR
            BEGIN:VEVENT
            SUMMARY:Test special days
            DTSTART:20150422T000000
            DTEND:20150423T000000
            UID:uid
            END:VEVENT
            END:VCALENDAR
          </Days>
        </SpecialDayGroup>
      </RequestParameters>
      <ResponseParameters>
        <string>specialdaygroup1</string>
      </ResponseParameters>
    </Step>

	<!-- step6.5 -->
	
    <Step id="8">
      <Command>Schedule10.CreateSchedule</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Schedule token="">
          <Name>Test Name</Name>
          <Description>Test Description</Description>
          <Standard>
            BEGIN:VCALENDAR
            BEGIN:VEVENT
            SUMMARY:Access from 9 AM to 6 PM
            DTSTART:20150422T090000
            DTEND:20150427T180000
            RRULE:FREQ=DAILY
            UID:uid
            END:VEVENT
            END:VCALENDAR
          </Standard>
          <SpecialDays>
            <GroupToken>specialdaygroup1</GroupToken>
            <TimeRange>
              <From>23:00:00</From>
              <Until>00:00:00</Until>
            </TimeRange>
          </SpecialDays>
        </Schedule>
      </RequestParameters>
      <ResponseParameters>
        <string>testtoken1</string>
      </ResponseParameters>
    </Step>

	
	<!-- step7-->
	
    <Step id ="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
      </ResponseParameters>
      
    </Step>
    <Step id ="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
             <tar:AccessPolicy>
               <tar:ScheduleToken>testtoken1</tar:ScheduleToken>
                <tar:Entity>tokenAccess1</tar:Entity> 
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="14">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
	<Step id="15">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
			<tar:AccessPolicy>
               <tar:ScheduleToken>testtoken1</tar:ScheduleToken>
                <tar:Entity>tokenAccess1</tar:Entity> 
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="16">
		<Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
	<Step id="17">
      <Command>Schedule10.DeleteSchedule</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>testtoken1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id="18">
		<Command>Schedule10.DeleteSpecialDayGroup</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>specialdaygroup1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="19">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.102" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Empty AccessProfileList</Name>
    <Description>
      AccessControl service supported
      ScheduleList is not empty
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <!--<AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>-->
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.103" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Number of access profiles equals to MaxAccessProfiles</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="accessprofile2">
            <tar:Name>accessprofile2 Name</tar:Name>
            <tar:Description>accessprofil2 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="2" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>accessprofile1</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="4">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>accessprofile1</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>accessprofile1</string>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.104" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Empty access point info list</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.105" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Access profile token in CreateAccessprofile response  differ from requested</Name>
    <Description>
      test case should be deprecated
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>

    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken1</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken1" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken1</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken1</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken1</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.106" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfileInfoList and GetAccessProfileList with next start reference</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>1</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>1</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile2">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile3">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>1</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile0">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>1</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
<!--PullMessage-->
  <Test ID="TC.ACCESS_RULES-3-1-5.107" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Notification received at the second attempt</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>

  
  
  <!-- Negative -->
  
  <Test ID="TC.ACCESS_RULES-3-1-5.201" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Number of access profiles is more than MaxAccessProfiles</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="accessprofile2">
            <tar:Name>accessprofile2 Name</tar:Name>
            <tar:Description>accessprofil2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="accessprofile3">
            <tar:Name>accessprofile2 Name</tar:Name>
            <tar:Description>accessprofil2 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="2" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>accessprofile1</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="4">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>accessprofile1</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>accessprofile1</string>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.202" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfiles: incorrect token</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<!-- <Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule> -->
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
	
	<!-- step6.1 -->

	<Step id="5">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">

        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

	<!-- step6.3 -->

    <Step id="6">
      <Command>Schedule10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="3" MaxSchedules="3" MaxTimePeriodsPerDay="10" MaxSpecialDayGroups="2" MaxDaysInSpecialDayGroup="1" MaxSpecialDaysSchedules="1" ExtendedRecurrenceSupported="true" SpecialDaysSupported="true" StateReportingSupported="false" xmlns:tcr="http://www.onvif.org/ver10/schedule/wsdl">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>

	<!-- step6.5 -->
	
    <Step id="7">
      <Command>Schedule10.CreateSpecialDayGroup</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SpecialDayGroup token="">
          <Name>Test SpecialDayGroup Name</Name>
          <Description>Test SpecialDayGroup Description</Description>
          <Days>
            BEGIN:VCALENDAR
            BEGIN:VEVENT
            SUMMARY:Test special days
            DTSTART:20150422T000000
            DTEND:20150423T000000
            UID:uid
            END:VEVENT
            END:VCALENDAR
          </Days>
        </SpecialDayGroup>
      </RequestParameters>
      <ResponseParameters>
        <string>specialdaygroup1</string>
      </ResponseParameters>
    </Step>

	<!-- step6.5 -->
	
    <Step id="8">
      <Command>Schedule10.CreateSchedule</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Schedule token="">
          <Name>Test Name</Name>
          <Description>Test Description</Description>
          <Standard>
            BEGIN:VCALENDAR
            BEGIN:VEVENT
            SUMMARY:Access from 9 AM to 6 PM
            DTSTART:20150422T090000
            DTEND:20150427T180000
            RRULE:FREQ=DAILY
            UID:uid
            END:VEVENT
            END:VCALENDAR
          </Standard>
          <SpecialDays>
            <GroupToken>specialdaygroup1</GroupToken>
            <TimeRange>
              <From>23:00:00</From>
              <Until>00:00:00</Until>
            </TimeRange>
          </SpecialDays>
        </Schedule>
      </RequestParameters>
      <ResponseParameters>
        <string>ScheduleToken</string>
      </ResponseParameters>
    </Step>

	
	
	
	
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
	<Step id="17">
		<Command>Schedule10.DeleteSchedule</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>testtoken1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id="18">
		<Command>Schedule10.DeleteSpecialDayGroup</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>specialdaygroup1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	</Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.203" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfiles: incorrect Name</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile1</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.204" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfiles: incorrect Description</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description1</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.205" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfiles: incorrect ScheduleToken</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.206" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfiles: incorrect Entity</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess2</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.207" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfiles: no AccessPolicy</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.208" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfileInfo: incorrect token</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken1">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.209" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfileInfo: incorrect Name</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile1</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.210" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfileInfo: incorrect Description</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description1</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.211" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfileInfo: no Description</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
           
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.212" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Empty GetAccessProfiles</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.213" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Empty GetAccessProfileInfo</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.214" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfileList does not contain created profile</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.215" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>GetAccessProfileInfoList does not contain created profile token</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <!--PullMessage-->
  <Test ID="TC.ACCESS_RULES-3-1-5.216" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>No notification during operation delay time</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="Schedule1">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <Timeout>30000</Timeout>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.217" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Notifications for other token before tested token</Name>
    <Description>
      
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        STEP 31 - Validation of received notification
      There is no notification containing 'Source/SimpleItem' element with Name = 'AccessProfileToken' and Value = 'TestToken'
   STEP FAILED

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
<Schedule token="ScheduleToken">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
    
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken1" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken2" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
    <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>
      
    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
       <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
      
    </Step>
  </Test>

  <!-- zorba check additional fields in PullMessage response-->
  <Test ID="TC.ACCESS_RULES-3-1-5.500" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Correct response</Name>
    <Description>
      check additional fields in PullMessage response
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">

        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                  <tt:ElementItem Name="TestItem">
                    <element xmlns="new">any</element>
                  </tt:ElementItem>
                </tt:Source>
                <tt:Key>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                  <tt:Extension>
                    <element xmlns="new">element1</element>
                  </tt:Extension>
                </tt:Key>
                <tt:Data>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                </tt:Data>
                <tt:Extension>
                  <element xmlns="any">element</element>
                </tt:Extension>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
              <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>

    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
              <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.501" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Fields are in wrong sequence</Name>
    <Description>
      check additional fields in PullMessage response
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">

        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Key>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                  <tt:Extension>
                    <element xmlns="new">element1</element>
                  </tt:Extension>
                </tt:Key>
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                  <tt:ElementItem Name="TestItem">
                    <element xmlns="new">any</element>
                  </tt:ElementItem>
                </tt:Source>
                
                <tt:Data>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                </tt:Data>
                <tt:Extension>
                  <element xmlns="any">element</element>
                </tt:Extension>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
              <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>

    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
              <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.502" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>SimpleItem Name="AccessProfileToken1"</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">

        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken1" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>

    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.503" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>SimpleItem Name="AccessProfileToken" value = TestToken1</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">

        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>1</Limit>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken1" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>

    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
  </Test>
  
  <!--#978 AccessControl service-->
  <Test ID="TC.ACCESS_RULES-3-1-5.600" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Correct response</Name>
    <Description>
      AccessControl service is not supported
      ScheduleList is empty
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <!--<Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>-->
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">

        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>

    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
               <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.601" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Empty AccessProfileList</Name>
    <Description>
      AccessControl service is not supported
      ScheduleList is not empty
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>

    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <!--<AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>-->
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <!--<tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-5.601" ONVIFTestID="ACCESS_RULES-3-1-5" Enabled="true">
    <TestName>ACCESS_RULES-3-1-5 CREATE ACCESS PROFILE</TestName>
    <Name>Empty AccessProfileList</Name>
    <Description>
      AccessControl service is not supported (but AccessPolicy is returned)
      ScheduleList is not empty
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tsc="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tsc:Name>Name1</tsc:Name>
            <tsc:Description>Description1</tsc:Description>
            <tsc:Standard>schedule standard</tsc:Standard>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup1</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>10:06:34.3266666+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
            <tsc:SpecialDays>
              <tsc:GroupToken>specialdaygroup2</tsc:GroupToken>
              <tsc:TimeRange>
                <tsc:From>12:12:12.0000000+03:00</tsc:From>
              </tsc:TimeRange>
              <tsc:TimeRange>
                <tsc:From>11:11:11.0000000+03:00</tsc:From>
              </tsc:TimeRange>
            </tsc:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>

    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <Step id="11">
      <Command>AccessRules10.GetAccessProfileInfo</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParameters>

    </Step>
    <Step id="12">
      <Command>AccessRules10.GetAccessProfileInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfileInfo xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <!--<AccessProfileInfo token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfileInfo>-->
          <AccessProfileInfo token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
          </AccessProfileInfo>
        </ArrayOfAccessProfileInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id="13">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile</tar:Name>
            <tar:Description>Test Description</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
  </Test>
  
</TestSuit>