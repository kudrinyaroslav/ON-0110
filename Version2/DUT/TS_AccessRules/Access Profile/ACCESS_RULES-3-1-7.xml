<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Draft Capabilities" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</Name>
    <Description>
      TODO:
      
    </Description>
  </Parameters>
  <!--Customer issues-->
  <Test ID="TC.ACCESS_RULES-3-1-7.000" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Bosh: USA 2015 Plugfest</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
                <tar:TimeRange>
                  <tar:From>08:03:00</tar:From>
                    <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="value">0001-01-01T00:00:00</CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
        <!--<TerminationTime nil="true"/>-->
      </ResponseParametersAdditional>
    </Step>
    <!--Annex A.6-->
    <Step id="9">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--Valid-->
  <Test ID="TC.ACCESS_RULES-3-1-7.100" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.102" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response: MaxAccessProfiles reached</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>Next</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
                <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>Next</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile2">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="4">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="2" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>accessprofile1</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>ScheduleToken</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>accessprofile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="7">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="8">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="9">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="10">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="11">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="12">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>

    </Step>
    <Step id ="13">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="14">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <!--Annex A.10-->
    <Step id="16">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>accessprofile1 Name</AccessProfile.Name>
        <AccessProfile.Description>accessprofile1 Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>ScheduleToken</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.10-->
    <Step id ="17">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.103" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response: empty profile list</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl"/>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>

    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.104" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response: empty schedule list</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl"/>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>

    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.105" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response: empty access point list</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string/>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl"/>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="6">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="7">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="10">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="11">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="12">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.106" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response (EntityType defined)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
               <tar:EntityType xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">tac:AccessPointInfo</tar:EntityType>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <!--Invalid-->
  <Test ID="TC.ACCESS_RULES-3-1-7.200" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns different values (AccessPolicy list size)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
                      <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule2</tar:ScheduleToken>
               <tar:Entity>tokenAccess2</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.201" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns different values (ScheduleToken)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule2</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.202" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns different values (Entity)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess2</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.203" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns different values (EntityType 1)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
               <tar:EntityType xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl1">tac:AccessPointInfo</tar:EntityType>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.204" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns different values (EntityType 2)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
               <tar:EntityType xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">tac:AccessPointInfo1</tar:EntityType>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.205" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns different values (Name, Description)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 21</tar:Name>
            <tar:Description>Test Description 21</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.206" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns different values (token)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
          <AccessProfile token="TestToken1">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
               <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
               <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.207" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: GetAccessProfiles returns no items</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
       <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl"/>
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.208" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: Wrong notification (wrong topic)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed1</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.6-->
    <Step id="11">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="12">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.209" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: Wrong notification (wrong AccessProfileToken value)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken1" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.6-->
    <Step id="11">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="12">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>  
  <Test ID="TC.ACCESS_RULES-3-1-7.210" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: Wrong notification (no AccessProfileToken source)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken1" Value="TestToken1" />
                </tt:Source>
                
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.6-->
    <Step id="11">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="12">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>  
  <Test ID="TC.ACCESS_RULES-3-1-7.211" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: Wrong notification (no sources)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.6-->
    <Step id="11">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="12">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>  
  <Test ID="TC.ACCESS_RULES-3-1-7.212" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Invalid response: Wrong notification (no source)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity> 
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->   
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
        
          <string>TestToken</string>
       
      </ResponseParameters>
      
    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.6-->
    <Step id="11">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="12">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test> 
  
  <!-- zorba - check additional fields in PullMessage response-->
  <Test ID="TC.ACCESS_RULES-3-1-7.500" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response</Name>
    <Description>
      check additional fields in PullMessage response
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess2">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <!--<AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>-->
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>

    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                  <tt:ElementItem Name="TestItem">
                    <element xmlns="new">any</element>
                  </tt:ElementItem>
                </tt:Source>
                <tt:Key>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                  <tt:Extension>
                    <element xmlns="new">element1</element>
                  </tt:Extension>
                </tt:Key>
                <tt:Data>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                </tt:Data>
                <tt:Extension>
                  <element xmlns="any">element</element>
                </tt:Extension>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  
  <!--#978 AccessControl service is not supported-->
  <Test ID="TC.ACCESS_RULES-3-1-7.600" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response</Name>
    <Description>
      AccessControl service is not supported
      ScheduleList is not empty
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <!--<Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>-->
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <!--<Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>-->
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <!--<AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>-->
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <!--<AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>

    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <!--<tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>-->
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.601" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response: empty schedule list</Name>
    <Description>
      AccessControl service is not supported
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <!--<Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>-->
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl"/>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <!--<Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>-->
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>

    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID="TC.ACCESS_RULES-3-1-7.602" ONVIFTestID="ACCESS_RULES-3-1-7" Enabled="true">
    <TestName>ACCESS_RULES-3-1-7 v14.12 MODIFY ACCESS PROFILE</TestName>
    <Name>Correct response</Name>
    <Description>
      AccessControl service is not supported (but AccessPolicy is returned)
      ScheduleList is not empty
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <!--<Service>
            <tds:Namespace>http://www.onvif.org/ver10/accesscontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>-->
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/schedule/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--Annex A.3-->
    <Step id="2">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="accessprofile1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.3-->
    <!--Annex A.7-->
    <!--Annex A.2-->
    <Step id="3">
      <Command>AccessRules10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" MaxAccessProfiles="8" MaxAccessPoliciesPerAccessProfile="12" MultipleSchedulesPerAccessPointSupported="true">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <!--END Annex A.2-->
    <!--END Annex A.7-->
    <!--Annex A.4-->
    <Step id="4">
      <Command>Schedule10.GetScheduleList</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfSchedule xmlns:tar="http://www.onvif.org/ver10/schedule/wsdl">
          <Schedule token="Schedule1">
            <tar:Name>accessprofile1 Name</tar:Name>
            <tar:Description>accessprofile1 Description</tar:Description>
            <tar:Standard>
              BEGIN:VCALENDAR
              BEGIN:VEVENT
              DTSTART:19700101T070100
              DTEND:19700101T193200
              RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
              END:VEVENT
              END:VCALENDAR
            </tar:Standard>
            <tar:SpecialDays>
              <tar:GroupToken>1</tar:GroupToken>
            </tar:SpecialDays>
            <tar:SpecialDays>
              <tar:GroupToken>2</tar:GroupToken>
              <tar:TimeRange>
                <tar:From>08:03:00</tar:From>
                <tar:Until>13:04:00</tar:Until>
              </tar:TimeRange>
            </tar:SpecialDays>
          </Schedule>
        </ArrayOfSchedule>
      </ResponseParametersAdditional>
    </Step>
    <!--END Annex A.4-->
    <!--Annex A.5-->
    <!--<Step id ="5">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>ReferenceGetAccessPointInfoList</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PACS12.GetAccessPointInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartReference>ReferenceGetAccessPointInfoList</StartReference>
      </RequestParameters>
      <ResponseParameters>
        <string></string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessPointInfo xmlns:tac="http://www.onvif.org/ver10/accesscontrol/wsdl">
          <AccessPointInfo token="tokenAccess1">
            <tac:Name>Access1 Name</tac:Name>
            <tac:Description>Access1 Description</tac:Description>
            <tac:Entity>Door</tac:Entity>
            <tac:Capabilities DisableAccessPoint="true" Duress="true" AccessTaken="true" ExternalAuthorization="true" Tamper="true" AnonymousAccess="true"></tac:Capabilities>
          </AccessPointInfo>
        </ArrayOfAccessPointInfo>
      </ResponseParametersAdditional>
    </Step>-->
    <!--END Annex A.5-->
    <!--Annex A.11-->
    <Step id="7">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token></AccessProfile.token>
        <AccessProfile.Name>Test Access Profile</AccessProfile.Name>
        <AccessProfile.Description>Test Description</AccessProfile.Description>
        <!--<AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>-->
      </RequestParameters>
      <ResponseParameters>

        <string>TestToken</string>

      </ResponseParameters>

    </Step>
    <!--END Annex A.11-->
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/AccessProfile/Changed</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>AccessRules10.ModifyAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <AccessProfile.token>TestToken</AccessProfile.token>
        <AccessProfile.Name>Test Access Profile 2</AccessProfile.Name>
        <AccessProfile.Description>Test Description 2</AccessProfile.Description>
        <!--<AccessProfile.AccessPolicy0.ScheduleToken>Schedule1</AccessProfile.AccessPolicy0.ScheduleToken>
        <AccessProfile.AccessPolicy0.Entity>tokenAccess1</AccessProfile.AccessPolicy0.Entity>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>

    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Configuration/AccessProfile/Changed</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" >
                <tt:Source>
                  <tt:SimpleItem Name="AccessProfileToken" Value="TestToken" />
                </tt:Source>

              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Annex A.8-->
    <Step id="11">
      <Command>AccessRules10.GetAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">

          <AccessProfile token="TestToken">
            <tar:Name>Test Access Profile 2</tar:Name>
            <tar:Description>Test Description 2</tar:Description>
            <tar:AccessPolicy>
              <tar:ScheduleToken>Schedule1</tar:ScheduleToken>
              <tar:Entity>tokenAccess1</tar:Entity>
            </tar:AccessPolicy>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParameters>

    </Step>
    <!--END Annex A.8-->
    <!--Annex A.6-->
    <Step id="12">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>

    </Step>
    <!--END Annex A.6-->
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
</TestSuit>