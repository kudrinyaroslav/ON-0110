<TestSuit Name="ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</Name>
    <Description>
      TODO:

    </Description>
  </Parameters>
  <!--positive tests-->
  <Test ID="TC.ANALYTICS-1-1-4.101" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>Correct response</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--end A.4-->
    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" />
                <Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="540" />
               
                <Point x="960" y="540" />
                <Point x="960" y="1" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                   
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>

                <!--You may enter ANY elements at this point-->

              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>


      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--<Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        -->
    <!--Zero or more repetitions:-->
    <!--
      </ResponseParameters>
    </Step>-->
  </Test>

  <Test ID="TC.ANALYTICS-1-1-4.102" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>[Script does not work]Correct response, modified points have an integer value</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.103" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>[Script does not work]4 Media profile, second support correct analytics config</Name>
    <Description>
      check A4. Choise right Profile with correct analytics config
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
      <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>     
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
         
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>

      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.104" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>[Script does not work] motionRegionConfigOptions.DisarmSupport = false, modifyRules@armed should be = true</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>false</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541,5" />
                  <Point x="961,5" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541.5" />
                    <tt:Point x="961.5" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.105" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>[Script does not work]Check restore of mediaProfile2. Should use command removeConfigurations without add command</Name>
    <Description>
      
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <!--<Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>-->
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>-->
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>

        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>

      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  <!-- 1398 -->
  
  <Test ID="TC.ANALYTICS-1-1-4.106" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>[Script does not work]Correct response</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
		</RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="8">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="1" /><tt:Point x="960" y="540" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="11">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
    
  <Test ID="TC.ANALYTICS-1-1-4.107" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - several different rules in GetSupportedRulesResponse and GetRules</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector1" maxInstances="1">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
		  
          <tt:RuleDescription Name="tt:MotionRegion1Detector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
		  
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegion1Detector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="8">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="11">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  <Test ID="TC.ANALYTICS-1-1-4.108" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - GetSupportedRules - no maxInstances; CreateRulesResponse</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="9">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="10">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
    
  <Test ID="TC.ANALYTICS-1-1-4.109" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - empty GetRules response</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
<!--           <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>

              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                

              
            </tt:ElementItem>

              <tt:Extension>

              </tt:Extension>
            </tt:Parameters>
          </Config> -->
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="8">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                  <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="11">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
    
  <Test ID="TC.ANALYTICS-1-1-4.110" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - GetSupportedRules - no maxInstances; SOAP fault response (executed a.9)</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
		<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegio2nDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->

    <Step id="10">
		<Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

		
    <Step id="11">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="12">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="13">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

<!-- restore a.9 -->

    <Step id="14">
		<Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1080" />
                  <Point x="1920" y="1" /><Point x="1920" y="1080" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID="TC.ANALYTICS-1-1-4.111" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - no tt:MotionRegionDetector Rules in GetRulesResponse</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 5 -->
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="8">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="11">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID="TC.ANALYTICS-1-1-4.112" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>amountOfAdditionalRules = 0 (executed a.9)</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="1">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 0 -->
	
	<!--end A.8-->

		<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->
	
<!-- step 13 -->

    <Step id="10">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="12">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                  <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="13">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

	
<!-- restore a.9 -->

    <Step id="14">
		<Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1080" />
                  <Point x="1920" y="1" /><Point x="1920" y="1080" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
	</Test>
 
   
  <Test ID="TC.ANALYTICS-1-1-4.113" ONVIFTestID="ANALYTICS-1-1-3" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>Correct restore of a new annex</Name>
    <Description>
      check A4. Choise right Profile with correct analytics config
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
      <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
	
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">

		  <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
	
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="12">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="1">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="13">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 0 -->
	
	<!--end A.8-->

<!-- step 8 -->
		<!--A.9 start-->
	
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->
	
    <Step id="16">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" /><Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
    <Step id="17">
		<Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
    <Step id="18">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <Step id="19">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

<!-- restore a.9 -->

    <Step id="20">
		<Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1080" />
                  <Point x="1920" y="1" /><Point x="1920" y="1080" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

<!-- end restore a.9 -->
	
<!-- restore a.5 -->

    <Step id="21">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
	  <Token>media_profile2</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id="22">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
	
<!-- end restore a.5 -->
	
	
	
	
	
	</Test>
 
  <!-- 1185  -->
 
  <Test ID="TC.ANALYTICS-1-1-4.114" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>motionRegionConfigOptions.DisarmSupport = true</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
		<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegio2nDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->

    <Step id="10">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="12">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                  <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="13">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

	
<!-- restore a.9 -->

    <Step id="14">
		<Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1080" />
                  <Point x="1920" y="1" /><Point x="1920" y="1080" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID="TC.ANALYTICS-1-1-4.115" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>motionRegionConfigOptions.DisarmSupport = false</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>false</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
		<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegio2nDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->

    <Step id="10">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="12">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="13">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
<!-- restore a.9 -->

    <Step id="14">
		<Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1080" />
                  <Point x="1920" y="1" /><Point x="1920" y="1080" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
 
  <Test ID="TC.ANALYTICS-1-1-4.116" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>motionRegionConfigOptions.DisarmSupport skipped</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <!-- <axt:DisarmSupport>false</axt:DisarmSupport> -->
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
		<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegio2nDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->

    <Step id="10">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="12">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="13">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
<!-- restore a.9 -->

    <Step id="14">
		<Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1080" />
                  <Point x="1920" y="1" /><Point x="1920" y="1080" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>

  <Test ID="TC.ANALYTICS-1-1-4.117" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>Armed skipped in Modify, Armed = false in Get</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--end A.4-->
    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" />
                <Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="false" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="540" />

                <Point x="960" y="540" />
                <Point x="960" y="1" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>false</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Sensitivity="0" Armed="false">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />

                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>

                <!--You may enter ANY elements at this point-->

              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>


      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--<Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        -->
    <!--Zero or more repetitions:-->
    <!--
      </ResponseParameters>
    </Step>-->
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.118" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>Armed skipped in Modify, Armed skipped in Get</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--end A.4-->
    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" />
                <Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="false" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="540" />

                <Point x="960" y="540" />
                <Point x="960" y="1" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>false</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />

                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>

                <!--You may enter ANY elements at this point-->

              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>


      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--<Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        -->
    <!--Zero or more repetitions:-->
    <!--
      </ResponseParameters>
    </Step>-->
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.119" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>Armed skipped in Modify, Armed = true in Get</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--end A.4-->
    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" />
                <Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="false" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="540" />

                <Point x="960" y="540" />
                <Point x="960" y="1" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>false</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Sensitivity="1" Armed="true">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Sensitivity="0" Armed="false">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />

                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>

                <!--You may enter ANY elements at this point-->

              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>


      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--<Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        -->
    <!--Zero or more repetitions:-->
    <!--
      </ResponseParameters>
    </Step>-->
  </Test>
	<Test ID="TC.ANALYTICS-1-1-4.120" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>RuleOptions: no @Type</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector1" maxInstances="1">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
		  
          <tt:RuleDescription Name="tt:MotionRegion1Detector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
		  
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegion1Detector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="8">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="540" />
                  <Point x="960" y="1" /><Point x="960" y="540" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="11">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
	
  
  <!--Negative tests-->
  
  <Test ID="TC.ANALYTICS-1-1-4.201" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>A3: ruleOptionsList contains more than one RuleOptions element</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->

    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>

        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>

      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.202" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>A3: ruleOptionsList is empty</Name>
    <Description>
      
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!--<ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>-->
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.203" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>after A3:ruleOptionsList contain RuleOption with different @Name=MotionRegion1111</Name>
    <Description>
      ruleOptionsList does not contain RuleOption with @Name = MotionRegion and with @Type = axt:MotionRegionConfig
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion1111" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->

    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.204" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>after A3:ruleOptionsList contain RuleOption with different @Type = axt:MotionRegionConfig111</Name>
    <Description>
      ruleOptionsList does not contain RuleOption with @Name = MotionRegion and with @Type = axt:MotionRegionConfig
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig111">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->

    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.205" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>after A3:ruleOptionsList contain RuleOption with element different then MotionRegionConfigOptions</Name>
    <Description>
      RuleOption element with @Name = MotionRegion and @Type = axt:MotionRegionConfig does not contain MotionRegionConfigOptions element
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions111>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions111>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID="TC.ANALYTICS-1-1-4.206" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>check After A.5: updatedRuleList does not contain Rule with @armed =false</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion" >
                <axt:MotionRegionConfig Armed="true" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.207" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>check After A.5: updatedRuleList does not contain Rule with @Name = "TestMotionRegion"</Name>
    <Description>
      TestMotionRegion111
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion111" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="false" Sensitivity="0">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig>
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.208" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>check After A.5: updatedRuleList does not contain Rule with Type = tt:MotionRegionDetector</Name>
    <Description>
      tt:MotionRegionDetector111
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector111" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="0">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig>
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.209" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>check After A.5: updatedRuleList rule.Parameters does not contain ElementItem with @Name = "MotionRegion"</Name>
    <Description>
       MotionRegion11
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="10" x="10">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="20" x="20">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="11">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="12">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="0">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion11">
                <axt:MotionRegionConfig>
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="15">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>

        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    
  </Test>
  
  <Test ID="TC.ANALYTICS-1-1-4.210" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>updatedRuleList rule.Parameters has different point[0].@x = 10</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion" >
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="10" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.211" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>updatedRuleList rule.Parameters has different point[0].@y = 10</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>

        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="10" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.212" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>updatedRuleList rule.Parameters has different point[1].@x = 10</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>

        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="10" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.213" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>updatedRuleList rule.Parameters has different point[1].@y = 500</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>

        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="500" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.214" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>updatedRuleList rule.Parameters has different point[2].@x = 900</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>

        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="900" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.215" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>updatedRuleList rule.Parameters has different point[2].@y = 50</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>

        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="50" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.216" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>x and y and Armed is different in modified rule</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step modify
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="10" />
                    <tt:Point x="10" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.217" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>sensitivity is different (2.5)</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step modify
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="false" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="2.5">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="541" />
                    <tt:Point x="961" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.218" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>all compared fields are different</Name>
    <Description>
      rule.Parameters.ElementItem with @Name = "MotionRegion" is not equal to Parameters.ElementItem[0] element from step modify
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfig">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>false</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
    <Step id="6">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1081" />
                  <Point x="1921" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="0" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="541" />
                  <Point x="961" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--A.5 start-->
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="2.5">
                  <tt:Polygon>
                    <tt:Point x="10" y="11" />
                    <tt:Point x="12" y="13" />
                    <tt:Point x="14" y="15" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--A.5 end-->
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  <Test ID="TC.ANALYTICS-1-1-4.201_1" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>ArrayOfVideoAnalyticsConfiguration is empty</Name>
    <Description>
      Check A.1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <!--<VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>-->
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.202_1" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>List of AnalyticsConf supporting tt:MotionRegionDetector is empty</Name>
    <Description>
      Check A.2
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.203_1" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>GetProfiles return empty profile list</Name>
    <Description>
      Check A.4
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.204_1" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name>all 4 Media Profiles not support needed analytics configuration</Name>
    <Description>
      check A4
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
      <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--noVSC-->
              <Analytics token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        
        <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        
        <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile4</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        
        <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
  </Test>
  
  <!-- 1398 -->
  
  
  <Test ID="TC.ANALYTICS-1-1-4.219" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - supportedRules does not contain RuleDescription element with Name value is equal to tt:MotionRegionDetector: empty response</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
         <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
<!--           <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription> -->
        </SupportedRules> 
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->

    <Step id="7">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
   
  <Test ID="TC.ANALYTICS-1-1-4.220" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - supportedRules does not contain RuleDescription element with Name value is equal to tt:MotionRegionDetector: no RuleDescription</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
         <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
           <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
 <!--         <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription> -->
        </SupportedRules> 
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->


    <Step id="7">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
   
  <Test ID="TC.ANALYTICS-1-1-4.221" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.8 - supportedRules does not contain RuleDescription element with Name value is equal to tt:MotionRegionDetector: no tt:MotionRegionDetector</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
         <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
           <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector1" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription> 
        </SupportedRules> 
      </ResponseParameters>
    </Step>

		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->


    <Step id="7">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
   
  <Test ID="TC.ANALYTICS-1-1-4.222" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>maxInstances = true; fault on CreateRules</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
		</RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="5">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 4 -->
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="8">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

	
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
   
  <Test ID="TC.ANALYTICS-1-1-4.223" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.9 - empty GetRulesResponse</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="1">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 0 -->
	
	<!--end A.8-->
	
		<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>

        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->

<!-- step 13 -->

    <Step id="9">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="10">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
   
  <Test ID="TC.ANALYTICS-1-1-4.224" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>A.9 - no tt:MotionRegionDetector Rules in GetRulesResponse</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector" maxInstances="1">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
    <Step id="7">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
	
		<!-- amountOfAdditionalRules = 0 -->
	
	<!--end A.8-->
	
		<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

		
		<!--end A.9-->
	
<!-- step 13 -->

    <Step id="9">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="10">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
   
  <Test ID="TC.ANALYTICS-1-1-4.225" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>SOAP fault response - A.9 - empty GetRulesResponse</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
			<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>

		<!--end A.9-->
		
    <Step id="9">
		<Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
 
		

    <Step id="10">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
   
  <Test ID="TC.ANALYTICS-1-1-4.226" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
	  <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>SOAP fault response - A.9 - no tt:MotionRegionDetector Rules in GetRulesResponse</Name>
    <Description>
    </Description>
    <ExpectedResult>
		<ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1081" width="1921" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--end A.4-->
    <!--Start A.3-->
    <Step id="5">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <!--end A.3-->
	
	<!--A.8 start-->
		
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
	
	<!--end A.8-->

<!-- step 13 -->

    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	
			<!--A.9 start-->
	
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
		  <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegio2nDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
		  
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector1" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1080" />
                    <tt:Point x="1920" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                
                <!--You may enter ANY elements at this point-->
              
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>

        </ArrayOfConfig>
        
        
      </ResponseParameters>
    </Step>
		
		<!--end A.9-->

    <Step id="9">
      <Command>Analytics20.CreateRules</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <ElementItem Name="MotionRegion">
              <MotionRegionConfig Armed="true" Sensitivity="1" xmlns="http://www.onvif.org/ver20/analytics">
                <Polygon xmlns="http://www.onvif.org/ver10/schema">
                  <Point x="1" y="1" />
                  <Point x="1" y="1082" />
                  <Point x="1922" y="1" />
                </Polygon>
              </MotionRegionConfig>
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

		

    <Step id="12">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  
  
  
  
  
  
  <!-- 1185  -->
 
  
  
  <Test ID="TC.ANALYTICS-1-1-4.227" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>Armed="false" in ModifyRules; Armed="true" in GetRules response</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
   
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
 
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--end A.4-->
    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" />
                <Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="false" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="540" />

                <Point x="960" y="540" />
                <Point x="960" y="1" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters>            
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />

                    <tt:Point x="960" y="540" />
                    <tt:Point x="960" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
              </tt:ElementItem>           
              <tt:Extension>            
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>


      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
   
  </Test>
  
  
 
  

  <Test ID="TC.ANALYTICS-1-1-4.231" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>No 4th point in modified rule</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--end A.4-->
    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" />
                <Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="540" />
                <Point x="960" y="1" />
                <Point x="960" y="540" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="1" />
                    <!--<tt:Point x="960" y="540" />-->
                  </tt:Polygon>
                </axt:MotionRegionConfig>

                <!--You may enter ANY elements at this point-->

              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>


      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--<Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        -->
    <!--Zero or more repetitions:-->
    <!--
      </ResponseParameters>
    </Step>-->
  </Test>
  <Test ID="TC.ANALYTICS-1-1-4.232" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>MODIFY MOTION REGION DETECTOR RULE</TestName>
    <Name>Incorrect coordinates of 4th point in modified rule</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--end A.4-->
    <Step id="7">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1080" />
                <Point x="1920" y="1" />
                <Point x="1920" y="1080" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Analytics20.ModifyRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="540" />
                <Point x="960" y="1" />
                <Point x="960" y="540" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetRuleOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RuleType>tt:MotionRegionDetector</RuleType>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfigOptions xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <ConfigOptions Name="MotionRegion" Type="axt:MotionRegionConfigOptions">
            <axt:MotionRegionConfigOptions>
              <axt:MaxRegions>3</axt:MaxRegions>
              <axt:DisarmSupport>true</axt:DisarmSupport>
              <axt:PolygonSupport>true</axt:PolygonSupport>
              <axt:PolygonLimits>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </axt:PolygonLimits>
              <axt:SingleSensitivitySupport>true</axt:SingleSensitivitySupport>
              <axt:RuleNotification>false</axt:RuleNotification>
            </axt:MotionRegionConfigOptions>
          </ConfigOptions>
        </ArrayOfConfigOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="false" Sensitivity="0">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="540" />
                    <tt:Point x="960" y="1" />
                    <tt:Point x="1920" y="540" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>

                <!--You may enter ANY elements at this point-->

              </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>


      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
        </ArrayOfConfig>
      </ResponseParameters>
    </Step>
    <!--<Step id="10">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        -->
    <!--Zero or more repetitions:-->
    <!--
      </ResponseParameters>
    </Step>-->
  </Test>




  <Test ID="TC.ANALYTICS-1-1-4.Template" ONVIFTestID="ANALYTICS-1-1-4" Enabled="true">
    <TestName>ANALYTICS-1-1-4 CREATE MOTION REGION DETECTOR RULE</TestName>
    <Name></Name>
    <Description>
    
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
      <!--A.2-->
    <!--A.1-->
    <Step id="2">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics3</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="4" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics4</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--end of A.1-->
    <Step id="3">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <!--<tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>-->
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector11111">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Analytics20.GetSupportedRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <SupportedRules xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <tt:RuleContentSchemaLocation>http://anyuri</tt:RuleContentSchemaLocation>
          <tt:RuleDescription Name="tt:MotionRegionDetector">
            <tt:Parameters>
              <tt:ElementItemDescription Name="MotionRegion" Type="axt:MotionRegionConfig"/>
            </tt:Parameters>
            <tt:Messages>
              <tt:Source>
                <tt:SimpleItemDescription Name="VideoSource" Type="tt:ReferenceToken"/>
                <tt:SimpleItemDescription Name="RuleName" Type="xs:string"/>
              </tt:Source>
              <tt:Key/>
              <tt:Data>
                <tt:SimpleItemDescription Name="State" Type="xs:boolean"/>
              </tt:Data>
              <tt:ParentTopic>tns1:RuleEngine/MotionRegionDetector/Motion</tt:ParentTopic>
            </tt:Messages>
          </tt:RuleDescription>
        </SupportedRules>
      </ResponseParameters>
    </Step>
    <!--end of A.2-->
    <!--A.4 start-->
    <Step id="7">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile3</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media_profile4</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        <VideoAnalyticsConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        <VideoAnalyticsConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--end A.4-->
    <Step id="11">
      <Command>Analytics20.CreateRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <Rule Name="TestMotionRegion" Type="tt:MotionRegionDetector">
          <Parameters>
            <!--Zero or more repetitions:-->
            <!--<SimpleItem Name="?" Value="?"/>-->
            <!--Zero or more repetitions:-->
            <ElementItem Name="MotionRegion" Armed="true" Sensitivity="1">
              <Polygon>
                <Point x="1" y="1" />
                <Point x="1" y="1081" />
                <Point x="1921" y="1" />
              </Polygon>
              <!--You may enter ANY elements at this point-->
            </ElementItem>
          </Parameters>
        </Rule>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfConfig>
          <Config Name="TestMotionRegion" Type="tt:MotionRegionDetector" xmlns:axt="http://www.onvif.org/ver20/analytics" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Parameters Armed="true" Sensitivity="1">
              <!--Zero or more repetitions:-->
              <!--<tt:SimpleItem Name="?" Value="?"/>-->
              <!--Zero or more repetitions:-->
              <tt:ElementItem Name="MotionRegion">
                <axt:MotionRegionConfig Armed="true" Sensitivity="1">
                  <tt:Polygon>
                    <tt:Point x="1" y="1" />
                    <tt:Point x="1" y="1081" />
                    <tt:Point x="1921" y="1" />
                  </tt:Polygon>
                </axt:MotionRegionConfig>
                <!--You may enter ANY elements at this point-->
            </tt:ElementItem>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:Parameters>
          </Config>
        </ArrayOfConfig>
		</ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Analytics20.DeleteRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
        <RuleName>TestMotionRegion</RuleName>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Analytics20.GetRules</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <!--Zero or more repetitions:-->
      </ResponseParameters>
    </Step>
  </Test>
</TestSuit>