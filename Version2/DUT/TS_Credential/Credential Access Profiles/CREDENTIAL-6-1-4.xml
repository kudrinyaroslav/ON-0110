<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Draft Capabilities" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</Name>
    <Description>
      TODO:

    </Description>
  </Parameters>
  <Test ID="TC.CREDENTIAL-6-1-4.01" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--accessProfileCompleteList is empty-->
  <!--<Test ID="TC.CREDENTIAL-6-1-4.02" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: AccessProfileList is empty</Name>
    <Description>
      3.	ONVIF Client retrieves a complete list of access profile (out accessProfileCompleteList) by following the procedure mentioned in Annex A.5.
      4.	If accessProfileCompleteList is empty, FAIL the test and skip other steps.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
       
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>-->
  <Test ID="TC.CREDENTIAL-6-1-4.02_1" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response: with creating of AccessProfile</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>AccessProfile1</string>

      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>AccessProfile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.CREDENTIAL-6-1-4.02_2" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>with creating of AccessProfile</Name>
    <Description>
      DeleteAccessProfile: no response
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>AccessProfile1</string>

      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <Token>AccessProfile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.CREDENTIAL-6-1-4.02_3" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>with creating of AccessProfile</Name>
    <Description>
      DeleteAccessProfile: fails
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>AccessProfile1</string>

      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <Token>AccessProfile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.CREDENTIAL-6-1-4.02_4" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response: with creating of AccessProfile</Name>
    <Description>
      GetAccessProfileList fails, there should be no command DeleteAccessProfile
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>AccessProfile1</string>

      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>AccessProfile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.CREDENTIAL-6-1-4.02_5" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response: with creating of AccessProfile</Name>
    <Description>
      CreateAccessProfile fails, there should be no command DeleteAccessProfile
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>AccessProfile1</string>

      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>AccessProfile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.CREDENTIAL-6-1-4.02_6" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response: with creating of AccessProfile</Name>
    <Description>
      GetCredentialList fails, there should BE a command DeleteAccessProfile
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>AccessProfile1</string>

      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>AccessRules10.DeleteAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>AccessProfile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--m is null-->
  <Test ID="TC.CREDENTIAL-6-1-4.03" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response: empty notification before message is sent</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--TopicExpression item is not equal to “tns1:Configuration/Credential/Changed”-->
  <Test ID="TC.CREDENTIAL-6-1-4.04" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: TopicExpression item is not equal to “tns1:Configuration/Credential/Changed” </Name>
    <Description>
      14.4. If Notification is not null and the TopicExpression item in m is not equal to “tns1:Configuration/Credential/Changed”, FAIL the test and go to the step 19.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Enabled</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--no Source.SimpleItem item with Name =: "CredentialToken" and Value =: credentialToken-->
  <Test ID="TC.CREDENTIAL-6-1-4.05" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: no Source.SimpleItem item with Name =: "CredentialToken"</Name>
    <Description>
      14.5. If m is not null and does not contain Source.SimpleItem item with 
      Name =: "CredentialToken" and Value =: credentialToken, 
      FAIL the test and go to the step 19.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken11" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.CREDENTIAL-6-1-4.06" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: Source.SimpleItem item with Name =: "CredentialToken" doesn't have Value =: credentialToken</Name>
    <Description>
      14.5. If m is not null and does not contain Source.SimpleItem item with
      Name =: "CredentialToken" and Value =: credentialToken,
      FAIL the test and go to the step 19.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken11" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--timeout expires for step 14 without Notification with CredentialToken-->
  <Test ID="TC.CREDENTIAL-6-1-4.07" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: without Notification with CredentialToken</Name>
    <Description>
      15.	If timeout1 timeout expires for step 14 without 
      Notification with CredentialToken source simple item equal to credentialToken, 
      FAIL the test and go to the step 19.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--credentialAccessProfileList after delete is not empty-->
  <Test ID="TC.CREDENTIAL-6-1-4.08" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: credentialAccessProfileList after delete is not empty </Name>
    <Description>
      18.	If credentialAccessProfileList contains at least one 
      credential access profile item, FAIL the test and go to step 19.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialAccessProfile>
            <tac:AccessProfileToken>AccessProfile1</tac:AccessProfileToken>
          </CredentialAccessProfile>
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--The DUT did not send GetCredentialAccessProfilesResponse message.-->
  <Test ID="TC.CREDENTIAL-6-1-4.09" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: The DUT did not send GetCredentialAccessProfilesResponse message.</Name>
    <Description>
      Fail - The DUT did not send GetCredentialAccessProfilesResponse message.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--The DUT did not send SetCredentialAccessProfilesResponse message.-->
  <Test ID="TC.CREDENTIAL-6-1-4.10" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: did not send SetCredentialAccessProfilesResponse message</Name>
    <Description>
      Fail: The DUT did not send SetCredentialAccessProfilesResponse message.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--The DUT did not send GetCredentialAccessProfilesResponse message.-->
  <Test ID="TC.CREDENTIAL-6-1-4.11" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: DUT did not send GetCredentialAccessProfilesResponse</Name>
    <Description>
      FAIL - DUT did not send GetCredentialAccessProfilesResponse
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--The DUT did not send CreatePullPointSubscriptionResponse message.-->
  <Test ID="TC.CREDENTIAL-6-1-4.12" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: DUT did not send CreatePullPointSubscriptionResponse</Name>
    <Description>
      FAIL - DUT did not send CreatePullPointSubscriptionResponse
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--The DUT did not send PullMessagesResponse message.-->
  <Test ID="TC.CREDENTIAL-6-1-4.13" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: DUT did not send PullMessagesResponse</Name>
    <Description>
      FAIL - DUT did not send PullMessagesResponse
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--The DUT did not send UnsubscribeResponse message.-->
  <Test ID="TC.CREDENTIAL-6-1-4.14" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response: DUT did not send UnsubscribeResponse message</Name>
    <Description>
      FAIL - DUT did not send UnsubscribeResponse message
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID="TC.CREDENTIAL-6-1-4.15" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response: accessprofiles list is empty, create accessprofile</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="8">
      <Command>AccessRules10.CreateAccessProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>

      </RequestParameters>
      <ResponseParameters>

        <string>AccessProfile1</string>

      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <!--<ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>-->
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>


  <Test ID="TC.CREDENTIAL-6-1-4.16" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="false" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!--Template for failed test-->
  <!--
  <Test ID="TC.CREDENTIAL-6-1-4.01" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Incorrect response</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="TestToken">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken"/>
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  -->
  
  <!--zorba: check additional fields in PullMessage response-->
  <Test ID="TC.CREDENTIAL-6-1-4.500" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response</Name>
    <Description>
      check additional fields in PullMessage response
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="true" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          <AntipassbackState>
            <AntipassbackViolated>false</AntipassbackViolated>
          </AntipassbackState>
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                  <tt:ElementItem Name="TestItem">
                    <element xmlns="new">any</element>
                  </tt:ElementItem>
                </tt:Source>
                <tt:Key>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                  <tt:Extension>
                    <element xmlns="new">element1</element>
                  </tt:Extension>
                </tt:Key>
                <tt:Data>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken1" />
                </tt:Data>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  <!--#975 antipassback not supported A.11-->
  <Test ID="TC.CREDENTIAL-6-1-4.600" ONVIFTestID="CREDENTIAL-6-1-4" Enabled="true">
    <TestName>CREDENTIAL-6-1-4 DELETE CREDENTIAL ACCESS PROFILES</TestName>
    <Name>Correct response</Name>
    <Description>
      antipassback not supported
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/accessrules/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/credential/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost:17934/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>AccessRules10.GetAccessProfileList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfAccessProfile xmlns:tar="http://www.onvif.org/ver10/accessrules/wsdl">
          <AccessProfile token="AccessProfile1">
            <tar:Name>Access Profile 1</tar:Name>
            <tar:Description>Access Profile 1 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile2">
            <tar:Name>Access Profile 2</tar:Name>
            <tar:Description>Access Profile 2 Description</tar:Description>
          </AccessProfile>
          <AccessProfile token="AccessProfile3">
            <tar:Name>Access Profile 3</tar:Name>
            <tar:Description>Access Profile 3 Description</tar:Description>
          </AccessProfile>
        </ArrayOfAccessProfile>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Credential10.GetCredentialList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <string>
        </string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <ArrayOfCredential xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <Credential token="Credential1">
            <tac:Name>Credential 1</tac:Name>
            <tac:Description>Credential 1 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential2">
            <tac:Name>Credential 2</tac:Name>
            <tac:Description>Credential 2 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
          <Credential token="Credential3">
            <tac:Name>Credential 3</tac:Name>
            <tac:Description>Credential 3 Description</tac:Description>
            <tac:CredentialHolderReference>CredentialHolderReference</tac:CredentialHolderReference>
            <tac:CredentialIdentifier>
              <tac:Type>
                <tac:Name>ONVIFCard</tac:Name>
                <tac:FormatType>WIEGAND26</tac:FormatType>
              </tac:Type>
              <tac:ExemptedFromAuthentication>false</tac:ExemptedFromAuthentication>
              <tac:Value>1234</tac:Value>
            </tac:CredentialIdentifier>
          </Credential>
        </ArrayOfCredential>
      </ResponseParametersAdditional>
    </Step>
    <Step id="5">
      <Command>Credential10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10" CredentialValiditySupported="true" CredentialAccessProfileValiditySupported="true" 
                             MaxCredentials="10" MaxAccessProfilesPerCredential="5" ResetAntipassbackSupported="false" xmlns:tcr="http://www.onvif.org/ver10/credential/wsdl">
          <tcr:SupportedIdentifierType>ONVIFCard</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFPIN</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFingerprint</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFFace</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFIris</tcr:SupportedIdentifierType>
          <tcr:SupportedIdentifierType>ONVIFVein</tcr:SupportedIdentifierType>
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Credential10.GetSupportedFormatTypes</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialIdentifierTypeName>ONVIFCard</CredentialIdentifierTypeName>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialIdentifierFormatTypeInfo xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND26</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
          <CredentialIdentifierFormatTypeInfo>
            <tac:FormatType>WIEGAND37</tac:FormatType>
            <tac:Description>Description</tac:Description>
          </CredentialIdentifierFormatTypeInfo>
        </ArrayOfCredentialIdentifierFormatTypeInfo>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Credential10.CreateCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Credential token="">
          <Description>Test Description</Description>
          <CredentialHolderReference>TestUser</CredentialHolderReference>
          <Attribute Name="TestAttributeName" Value="TestAttributeValue" />
        </Credential>
        <State>
          <Enabled>true</Enabled>
          <Reason>Test Reason</Reason>
          
        </State>
      </RequestParameters>
      <ResponseParameters>
        <string>TestToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Credential10.SetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
          <ValidFrom>2014-02-10T00:00:00</ValidFrom>
          <ValidTo>2015-05-14T00:00:00</ValidTo>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:2634/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional xmlns:wsa="http://www.w3.org/2005/08/addressing">
        <SubscriptionReference>
          <wsa:Address>http://localhost:2634/Subscription?Idx=0</wsa:Address>
        </SubscriptionReference>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>Credential10.DeleteCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <CredentialToken>TestToken</CredentialToken>
        <CredentialAccessProfile>
          <AccessProfileToken>AccessProfile1</AccessProfileToken>
        </CredentialAccessProfile>
      </RequestParameters>
      <ResponseParameters>
        <!--<string>TestToken</string>-->
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">65</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tns1="http://www.onvif.org/ver10/topics">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Configuration/Credential/Changed</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2008-10-10T12:24:57.321">
                <tt:Source>
                  <tt:SimpleItem Name="CredentialToken" Value="TestToken" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Credential10.GetCredentialAccessProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfCredentialAccessProfile xmlns:tac="http://www.onvif.org/ver10/credential/wsdl">
        </ArrayOfCredentialAccessProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Credential10.DeleteCredential</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>TestToken</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
</TestSuit>