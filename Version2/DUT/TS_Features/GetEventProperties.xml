<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>Imaging Service Features</Name>
    <Description>
      Media service must be: http://localhost:2780/MediaService.asmx
    </Description>
  </Parameters>
  

<!-- Tests for sorting -->
  
  
  <!-- VideoSource -->
  
  
  <!-- Only expected -->
  
  <Test ID = "TC.Events.101" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>All expected topics; IsProperty="1" - for all</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
		
		
		
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

		
          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
		  
	
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="true">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>
		  
	
		
		
		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.Events.102" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooBlurry/AnalyticsService
	no tns1:Monitoring/ProcessorUsage
	no tns1:Device/HardwareFailure/FanFailure
	no tns1:Door/State/DoorMode
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>

           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

	
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
		  
	  
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

		  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.103" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooBlurry/ImagingService
	no tns1:Monitoring/LinkStatus
	no tns1:Device/HardwareFailure/PowerSupplyFailure
	no tns1:Door/State/DoorPhysicalState
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
		
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>



				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>

          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>


				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.Events.104" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>tns1:VideoSource/ImageTooBlurry/RecordingService
	no tns1:Monitoring/UploadStatus
	no tns1:Device/HardwareFailure/StorageFailure
	no tns1:Door/State/LockPhysicalState
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
		
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
			  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>


					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			

					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
	  
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	


				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>
		  

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.105" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>tns1:VideoSource/ImageTooBlurry/
	no tns1:Monitoring/OperatingTime/DefinedLimitReached
	no tns1:Device/HardwareFailure/TemperatureCritical
	no tns1:Door/State/DoubleLockPhysicalState
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>


			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
				<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					


						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>


            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
	
	          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	

				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>
		  

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.Events.106" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>tns1:VideoSource/ImageTooDark/AnalyticsService
	no tns1:Monitoring/OperatingTime/MeanTimeBetweenFailuresDefaultLimitReached
	no tns1:Device/HardwareFailure/
	no tns1:Door/State/DoorAlarm
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
	
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
				
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
		
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  

			
		
			
			
			
			
			
			
          </tns1:Device>
		  
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.Events.107" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooDark/ImagingService
	no tns1:Monitoring/OperatingTime/MeanTimeBetweenFailuresOperationLimitReached
	no tns1:Device/Trigger/DigitalInput
	no tns1:Door/State/DoorTamper
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
	
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
	  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
		<AnalyticsService>
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			

					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
		  
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>
		  

		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.108" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooDark/RecordingService
	no tns1:Monitoring/OperatingTime/LastReset
	no tns1:Device/Trigger/Relay
	no tns1:Door/State/DoorFault
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
		
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
		  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
			
				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>
			
				<OperatingTime>
						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		
				
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  
					 <LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

				</OperatingTime>
				
				<EnvironmentalConditions>
						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				
				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			

					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
		  
		          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription>
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>

			</State>
          </tns1:Door>
		  
		
	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.109" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooDark/
	no tns1:Monitoring/OperatingTime/LastReboot
	no tns1:Device/Trigger/
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
	
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
		  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
		
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 


					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>

            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>

          </tns1:Device>
		  

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.110" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooBright/AnalyticsService
	no tns1:Monitoring/OperatingTime/LastClockSynchronization
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
		
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
	
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
				  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.111" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooBright/ImagingService
	no tns1:Monitoring/OperatingTime/
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
				  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
					<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				


          </tns1:Monitoring>


		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.112" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooBright/RecordingService
	no tns1:Monitoring/EnvironmentalConditions/RelativeHumidity
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
	
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
            </ImageTooBright>

		  <ImageTooBlurry>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
		
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		



				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

          </tns1:Monitoring>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.113" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/ImageTooBright/
	no tns1:Monitoring/EnvironmentalConditions/Temperature
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

		  <ImageTooBlurry>
	  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

          </tns1:Monitoring>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.114" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/GlobalSceneChange/AnalyticsService
	no tns1:Monitoring/EnvironmentalConditions
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
		
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							

				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

          </tns1:Monitoring>

		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.115" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/GlobalSceneChange/ImagingService
	no tns1:Monitoring/BatteryCapacity
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
			  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
			
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>


          </tns1:Monitoring>


	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.116" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/GlobalSceneChange/RecordingService
	no tns1:Monitoring/Washer/LiquidLow
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
	
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
	  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
           </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
	
	
          </tns1:Monitoring>

	
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.117" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/GlobalSceneChange/
	no tns1:Monitoring/Washer
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
				  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>

            <ImageTooDark>
				<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			


				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
          </tns1:Monitoring>

		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.118" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/SignalLoss</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>
	
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
				  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			



 </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.119" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no tns1:VideoSource/MotionAlarm</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>
				  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
				<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
		
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

<!-- added other -->

  <Test ID = "TC.Events.120" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>Added other topics</Name>
    <Description>  
		tns1:VideoSource/ImageTooBright/
		tns1:VideoSource/ImageTooBright/Imaging2Service
		tns1:VideoSource/ImageTooBlurry/
		tns1:VideoSource/ImageTooBlurry/Recording1Service
		tns1:VideoSource/GlobalSceneChange/
		tns1:VideoSource/GlobalSceneChange/An3alyticsService
		tns1:VideoSource/ImageTooDark/
		tns1:VideoSource/MotionAlarm/ImagingService
		tns1:VideoSource/SignalLoss/RecordingService
		
		tns1:Monitoring/UploadStatus/Upload1Status
		tns1:Monitoring/LinkStatus/UqploadStatus
		tns1:Monitoring/LinkStatus/UqploadStatus/LiquidsLow
		tns1:Monitoring/Washer/Liquid1Low
		tns1:Monitoring/OperatingTime/Last2Reboot
		tns1:Monitoring/ProcessorUsage/LastReset
		tns1:Monitoring/EnvironmentalConditions/PowerSupplyFailure
		tns1:Monitoring/BatteryCapacity/LastReset
		
		tns1:Device/Trigger/DigitalRelay
		tns1:Device/HardwareFailure/
		
		tns1:Door/State/Door1Tamper
		tns1:Door/State/DoorPhysicalState/DoorTamper
		
		tns1:PTZ/WTF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					<Recording1Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Recording1Service>
 					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					<An3alyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</An3alyticsService>
								<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
			<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            
				<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
		
			</MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
           					
				<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 

		   </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
						<Upload1Status wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Source>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Source>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
						
						</Upload1Status>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
						<UqploadStatus wstop:topic="true">
							  <tt:MessageDescription IsProperty="1">
								<tt:Source>
								  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
								</tt:Source>
								<tt:Data>
								  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
								</tt:Data>
							  </tt:MessageDescription>
										<LiquidsLow wstop:topic="true">
												<tt:MessageDescription IsProperty="1">
												  <tt:Data>
													<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
												  </tt:Data>

												</tt:MessageDescription>
										  </LiquidsLow>
						</UqploadStatus>
						

				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>
						<Liquid1Low wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Liquid1Low>

					  
					  
				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<Last2Reboot wstop:topic="true">
							  <tt:MessageDescription IsProperty="1">
								<tt:Data>
								  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
								</tt:Data>
								<tt:Data>
								  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
								</tt:Data>
							  </tt:MessageDescription>
						</Last2Reboot>  
					  

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
						<LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
						<PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
						</PowerSupplyFailure>

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
						<LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>

						<DigitalRelay wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalRelay>
			  

			  
            </Trigger>
  
		  
            <HardwareFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
							
							
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
	
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <Door1Tamper wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </Door1Tamper>
				  
				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
					
							<DoorTamper wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
							  </tt:Data>
							</tt:MessageDescription>
						  </DoorTamper>
					
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="true">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="true">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>
	
          <tns1:PTZ>
					  <WTF wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </WTF>
					  

          </tns1:PTZ>

	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>


	
<!-- IsProperty tests --> 
 <!-- VideoSource -->
 
  <Test ID = "TC.Events.121" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>no IsProperty - for all</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
			
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.122" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooBlurry/AnalyticsService
	IsProperty="1" - for tns1:Monitoring/ProcessorUsage
	IsProperty="1" - for tns1:Device/HardwareFailure/FanFailure
	IsProperty="1" - for tns1:Door/State/DoorMode
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>

          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.123" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooBlurry/ImagingService
	IsProperty="1" - for tns1:Monitoring/LinkStatus
	IsProperty="1" - for tns1:Device/HardwareFailure/PowerSupplyFailure
	IsProperty="1" - for tns1:Door/State/DoorPhysicalState
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>
	
          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
		
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.124" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooBlurry/RecordingService
	IsProperty="1" - for tns1:Monitoring/UploadStatus
	IsProperty="1" - for tns1:Device/HardwareFailure/StorageFailure
	IsProperty="1" - for tns1:Door/State/LockPhysicalState
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription IsProperty="1">
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>
		
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.125" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooDark/AnalyticsService
	IsProperty="1" - for tns1:Monitoring/OperatingTime/DefinedLimitReached
	IsProperty="1" - for tns1:Device/HardwareFailure/TemperatureCritical
	IsProperty="1" - for tns1:Door/State/DoubleLockPhysicalState
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>

          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.126" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooDark/ImagingService
	IsProperty="1" - for tns1:Monitoring/OperatingTime/MeanTimeBetweenFailuresDefaultLimitReached
	IsProperty="1" - for tns1:Device/Trigger/DigitalInput
	IsProperty="1" - for tns1:Door/State/DoorAlarm
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>
		
          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>

          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.127" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooDark/RecordingService
	IsProperty="1" - for tns1:Monitoring/OperatingTime/MeanTimeBetweenFailuresOperationLimitReached
	IsProperty="1" - for tns1:Device/Trigger/Relay
	IsProperty="1" - for tns1:Door/State/DoorTamper
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>


			  

			  
            </Trigger>
  
		  
            <HardwareFailure>
			
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>
			
		
			
			
			
			
			
			
          </tns1:Device>

          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.128" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooBright/AnalyticsService
	IsProperty="1" - for tns1:Monitoring/OperatingTime/LastReset
	IsProperty="1" - for tns1:Door/State/DoorFault
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
	
	
	
          </tns1:Monitoring>

          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.129" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooBright/ImagingService
	IsProperty="1" - for tns1:Monitoring/OperatingTime/LastReboot
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

          </tns1:Monitoring>


	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.Events.130" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/ImageTooBright/RecordingService
	IsProperty="1" - for tns1:Monitoring/OperatingTime/LastClockSynchronization
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	

	
          </tns1:Monitoring>

	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.131" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/GlobalSceneChange/AnalyticsService
	IsProperty="1" - for tns1:Monitoring/EnvironmentalConditions/RelativeHumidity
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
       
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
          </tns1:Monitoring>

	   </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.132" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/GlobalSceneChange/ImagingService
	IsProperty="1" - for tns1:Monitoring/EnvironmentalConditions/Temperature
	</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
          </tns1:Monitoring>
	
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.133" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/GlobalSceneChange/RecordingService
	IsProperty="1" - for tns1:Monitoring/BatteryCapacity</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription IsProperty="1">
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				
	
          </tns1:Monitoring>

		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.134" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/SignalLoss
	IsProperty="1" - for tns1:Monitoring/Washer/LiquidLow</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>

				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
				

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
					</BatteryCapacity>	
				

	
          </tns1:Monitoring>

		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>
	
  <Test ID = "TC.Events.135" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for tns1:VideoSource/MotionAlarm</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry>

					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange>
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark>
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </SignalLoss>
 



 </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

<!-- Added other -->
	
  <Test ID = "TC.Events.136" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>IsProperty="1" - for other topics</Name>
    <Description>  
		tns1:VideoSource/ImageTooBright/ - IsProperty="0" - should be the last in the list
		tns1:VideoSource/ImageTooBright/Imaging2Service
		tns1:VideoSource/ImageTooBlurry/
		tns1:VideoSource/ImageTooBlurry/Recording1Service
		tns1:VideoSource/GlobalSceneChange/
		tns1:VideoSource/GlobalSceneChange/An3alyticsService
		tns1:VideoSource/ImageTooDark/
		tns1:VideoSource/MotionAlarm/ImagingService
		tns1:VideoSource/SignalLoss/RecordingService
		
		tns1:Monitoring/UploadStatus/Upload1Status
		tns1:Monitoring/LinkStatus/UqploadStatus
		tns1:Monitoring/LinkStatus/UqploadStatus/LiquidsLow
		tns1:Monitoring/Washer/Liquid1Low
		tns1:Monitoring/OperatingTime/Last2Reboot
		tns1:Monitoring/ProcessorUsage/LastReset
		tns1:Monitoring/EnvironmentalConditions/PowerSupplyFailure
		tns1:Monitoring/BatteryCapacity/LastReset
		
		tns1:Device/Trigger/DigitalRelay
		tns1:Device/HardwareFailure/
		
		tns1:Door/State/Door1Tamper
		tns1:Door/State/DoorPhysicalState/DoorTamper
		
		tns1:PTZ/WTF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

            <ImageTooBright wstop:topic="true">
								<tt:MessageDescription IsProperty="0">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>

		  <ImageTooBlurry wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					<Recording1Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Recording1Service>
 					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooBlurry>
			
            <GlobalSceneChange wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					<An3alyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</An3alyticsService>
								<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
				
					<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
			
            <ImageTooDark wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
			<RecordingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription>
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
           </ImageTooDark>
			

			

          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            
				<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
		
			</MotionAlarm>
			
            <SignalLoss wstop:topic="true">
					<tt:MessageDescription>
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
           					
				<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
 

		   </SignalLoss>
 



 </tns1:VideoSource>
        
			<tns1:Monitoring>
				<UploadStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
						<Upload1Status wstop:topic="true">
						  <tt:MessageDescription IsProperty="1">
							<tt:Source>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Source>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
						
						</Upload1Status>
				</UploadStatus>

				<LinkStatus wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
						<UqploadStatus wstop:topic="true">
							  <tt:MessageDescription IsProperty="1">
								<tt:Source>
								  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
								</tt:Source>
								<tt:Data>
								  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
								</tt:Data>
							  </tt:MessageDescription>
										<LiquidsLow wstop:topic="true">
												<tt:MessageDescription IsProperty="1">
												  <tt:Data>
													<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
												  </tt:Data>

												</tt:MessageDescription>
										  </LiquidsLow>
						</UqploadStatus>
						

				</LinkStatus>
			

				<Washer>
						<LiquidLow wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LiquidLow>
						<Liquid1Low wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Liquid1Low>

					  
					  
				</Washer>
	
				
				<OperatingTime>
								
						<MeanTimeBetweenFailuresOperationLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresOperationLimitReached>					

						<DefinedLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DefinedLimitReached>
				
						<MeanTimeBetweenFailuresDefaultLimitReached wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </MeanTimeBetweenFailuresDefaultLimitReached>		

					  	<Last2Reboot wstop:topic="true">
							  <tt:MessageDescription IsProperty="1">
								<tt:Data>
								  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
								</tt:Data>
								<tt:Data>
								  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
								</tt:Data>
							  </tt:MessageDescription>
						</Last2Reboot>  
					  

					  	<LastClockSynchronization wstop:topic="true">
							<tt:MessageDescription>
							  
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastClockSynchronization> 

					  <LastReset wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					<LastReboot wstop:topic="true">
						  <tt:MessageDescription>
							<tt:Data>
							  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							</tt:Data>
							<tt:Data>
							  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
							</tt:Data>
						  </tt:MessageDescription>
					</LastReboot>  
					  

				</OperatingTime>

				<ProcessorUsage wstop:topic="true">
				  <tt:MessageDescription>
					<tt:Source>
					  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
					</tt:Source>
					<tt:Data>
					  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
					</tt:Data>
				  </tt:MessageDescription>
						<LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
				</ProcessorUsage>
							
				<EnvironmentalConditions>
						<Temperature wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Temperature>		

						<RelativeHumidity wstop:topic="true">
							<tt:MessageDescription>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </RelativeHumidity>
						<PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
						</PowerSupplyFailure>

				</EnvironmentalConditions>
				
				<BatteryCapacity wstop:topic="true">
					  <tt:MessageDescription>
						<tt:Source>
						  <tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
						</tt:Source>
						<tt:Data>
						  <tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Value" Type="xs:float" />
						</tt:Data>
					  </tt:MessageDescription>
						<LastReset wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Status" Type="xs:dateTime" />
							  </tt:Data>

							</tt:MessageDescription>
					  </LastReset>
					  
					
					</BatteryCapacity>	
				

          </tns1:Monitoring>

          <tns1:Device>
            <Trigger>
			
					  <Relay wstop:topic="true">
							<tt:MessageDescription IsProperty="false">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </Relay>
					  
					<DigitalInput wstop:topic="true">
							<tt:MessageDescription IsProperty="false">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalInput>

						<DigitalRelay wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </DigitalRelay>
			  

			  
            </Trigger>
  
		  
            <HardwareFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
							
							
					  <StorageFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="false">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </StorageFailure>
					  
					  <PowerSupplyFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="false">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </PowerSupplyFailure>
					  
					<FanFailure wstop:topic="true">
							<tt:MessageDescription IsProperty="false">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </FanFailure>

					  <TemperatureCritical wstop:topic="true">
							<tt:MessageDescription IsProperty="false">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Critical" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </TemperatureCritical>
			  
            </HardwareFailure>

			
          </tns1:Device>

          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State xmlns:xs="http://www.w3.org/2001/XMLSchema">
				  <DoorTamper wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorTamper>

				  <Door1Tamper wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </Door1Tamper>
				  
				  <DoorPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
					
							<DoorTamper wstop:topic="true">
							<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription Name="State" Type="tdc:DoorTamperState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
							  </tt:Data>
							</tt:MessageDescription>
						  </DoorTamper>
					
				  </DoorPhysicalState>
	
				  <DoubleLockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoubleLockPhysicalState>
			  	
				  <LockPhysicalState wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:LockPhysicalState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </LockPhysicalState>
			

				  <DoorAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorAlarm>

					<DoorMode wstop:topic="true">
						<tt:MessageDescription IsProperty="0">
						  <tt:Source>
							<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
						  </tt:Source>
						  <tt:Data>
							<tt:SimpleItemDescription Name="State" Type="tdc:DoorMode" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
						  </tt:Data>
						</tt:MessageDescription>
				  </DoorMode>
				  
				  <DoorFault wstop:topic="true">
					<tt:MessageDescription IsProperty="0">
					  <tt:Source>
						<tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
					  </tt:Source>
					  <tt:Data>
						<tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
					  </tt:Data>
					</tt:MessageDescription>
				  </DoorFault>
            
			
			</State>
          </tns1:Door>

          <tns1:PTZ>
					  <WTF wstop:topic="true">
							<tt:MessageDescription IsProperty="true">
							  <tt:Source>
								<tt:SimpleItemDescription Name="Token" Type="tt:ReferenceToken" />
							  </tt:Source>
							  <tt:Data>
								<tt:SimpleItemDescription xmlns:xs="http://www.w3.org/2001/XMLSchema" Name="Failed" Type="xs:boolean" />
							  </tt:Data>

							</tt:MessageDescription>
					  </WTF>
					  

          </tns1:PTZ>
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

		<!-- Negative -->
	
  <Test ID = "TC.Events.201" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>No topics</Name>
    <Description>  
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  


	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
	  
	
		
		
		
		</TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

	</Test>

  </TestSuit>
