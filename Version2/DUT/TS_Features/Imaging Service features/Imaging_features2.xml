<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>Imaging Service Features</Name>
    <Description>
      Media service must be: http://localhost:2780/MediaService.asmx
    </Description>
  </Parameters>
  
<!-- Positive -->
 
			<!-- GetServices: -->
			
<!-- IrCutfilterConfiguration -->
 
  <Test ID = "TC.IMAGING-Feat.101_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 1 VS - IrCutfilterConfiguration supported</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
 
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.102_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - 2nd correct</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>

    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

			</tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.103_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.104_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - correct</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.105_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - 2nd correct</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.106_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
  
<!-- Tampering Events  -->
  
	<!-- All Tampering Events supported -->
  
  <Test ID = "TC.IMAGING-Feat.107_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: All Tampering Events supported - all topics present</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	


    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.108_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBlurry/RecordingService</Name>
    <Description>
		All Tampering Events supported	
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry>

						
 						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService> 
				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.109_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBlurry/AnalyticsService</Name>
    <Description>  
			All Tampering Events supported	
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry>

						
 						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService> 
						

				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.110_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBlurry/ImagingService</Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry>

						  
 						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService> 

				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.111_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooDark/RecordingService</Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.112_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooDark/AnalyticsService</Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.113_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooDark/ImagingService</Name>
    <Description> 
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.114_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBright/RecordingService</Name>
    <Description>  
			All Tampering Events supported	
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.115_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBright/AnalyticsService</Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					

            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.116_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBright/ImagingService</Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					

            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.117_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/GlobalSceneChange/RecordingService </Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.118_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/GlobalSceneChange/AnalyticsService</Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					

            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.119_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/GlobalSceneChange/ImagingService</Name>
    <Description>  
			All Tampering Events supported	
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					

            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
	<!-- Some are not supported -->

  <Test ID = "TC.IMAGING-Feat.120_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBlurry - no this feature</Name>
    <Description>
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry wstop:topic="true">
 						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription> 
						  

				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.121_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooDark - no this feature</Name>
    <Description> 
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.122_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/ImageTooBright - no this feature</Name>
    <Description> 
		All Tampering Events supported		
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			

            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.123_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Only tns1:VideoSource/GlobalSceneChange - no this feature</Name>
    <Description>
		All Tampering Events supported		

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			

            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.124_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: No VideoSource/ImageTooBlurry/ - no this feature</Name>
    <Description>  
		No Image Too Blurry
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.125_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: VideoSource/ImageTooBlurry/Other topic - no this feature</Name>
    <Description>  
		No Image Too Blurry
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
             <ImageTooBlurry>

					  
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </ImageTooBlurry> 
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.126_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: No VideoSource/ImageTooDark/ - no this feature</Name>
    <Description>  
		No Image Too Dark
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			

			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.127_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: VideoSource/ImageTooDark/Other - no this feature</Name>
    <Description>  
		No Image Too Dark
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

			
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.128_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: No VideoSource/ImageTooBright/ - no this feature</Name>
    <Description>  
		No Image Too Bright
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			

			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.129_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: VideoSource/ImageTooBright/Other - no this feature</Name>
    <Description>  
		No Image Too Bright
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

			
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
 
  <Test ID = "TC.IMAGING-Feat.130_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: No VideoSource/GlobalSceneChange/ - no this feature</Name>
    <Description>  
		No Global Scene Change
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
 
  <Test ID = "TC.IMAGING-Feat.131_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: VideoSource/GlobalSceneChange/Other - no this feature</Name>
    <Description>  
		No Global Scene Change
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

			
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>

  <Test ID = "TC.IMAGING-Feat.132_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: No VideoSource/MotionAlarm - no this feature</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
           
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>
 
<!-- Focus Control -->
 
  <Test ID = "TC.IMAGING-Feat.133_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 1 VS - Focus Control supported (Absolute, Relative, Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.134_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control supported (Absolute)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.135_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control supported (Relative)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.136_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control supported (Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.137_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control not supported (empty resp)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <!-- <tt:Mode>OFF</tt:Mode> -->
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.138_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control not supported (correct fault)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <!-- <tt:Mode>OFF</tt:Mode> -->
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> 

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.139_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - 1st supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

			</tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.140_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - 1st w/empty resp.; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

			</tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.141_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - 1st w/correct fault; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

			</tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.142_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.143_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Absolute, Relative, Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.144_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Absolute)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.145_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Relative)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
          
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.146_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.147_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control not supported (empty resp)</Name>
    <Description>  
		All topics present
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.148_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control not supported (correct fault)</Name>
    <Description>  
		All topics present
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">


        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.149_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - 1st supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.150_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - 1st w/empty resp.; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.151_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - 1st w/correct fault; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
     <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.152_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>
		
    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
  
			<!-- GetCapabilities: -->
			
<!-- IrCutfilterConfiguration  -->
 
  <Test ID = "TC.IMAGING-Feat.101_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; 1 VS - correct</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	</Test>

  <Test ID = "TC.IMAGING-Feat.102_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; 2 VS - 2nd correct</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.103_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <!-- <tt:Media> -->
            <!-- <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr> -->
            <!-- <tt:StreamingCapabilities> -->
              <!-- <tt:RTPMulticast>true</tt:RTPMulticast> -->
              <!-- <tt:RTP_TCP>false</tt:RTP_TCP> -->
              <!-- <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP> -->
            <!-- </tt:StreamingCapabilities> -->
          <!-- </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	
	</Test>
  
  <Test ID = "TC.IMAGING-Feat.104_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; 1 VS - correct</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.105_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; 2 VS - 2nd correct</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.106_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
		
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	


	</Test>
 
<!-- Tampering Events  -->
  
  	<!-- All Tampering Events supported -->
  
  <Test ID = "TC.IMAGING-Feat.107_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: All Tampering Events supported - all topics present</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="2">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.108_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBlurry/RecordingService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry>

						
 						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService> 
				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.109_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBlurry/AnalyticsService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry>

						
 						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService> 
						

				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.110_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBlurry/ImagingService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry>

						  
 						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService> 
						

				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>

  <Test ID = "TC.IMAGING-Feat.111_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooDark/RecordingService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.112_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooDark/AnalyticsService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.113_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooDark/ImagingService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
            
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
        </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>

  <Test ID = "TC.IMAGING-Feat.114_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBright/RecordingService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
            
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
        </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.115_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBright/AnalyticsService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>

            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.116_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBright/ImagingService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>

  <Test ID = "TC.IMAGING-Feat.117_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/GlobalSceneChange/RecordingService </Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.118_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/GlobalSceneChange/AnalyticsService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>

            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.119_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/GlobalSceneChange/ImagingService</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>

            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
	<!-- Some are not supported -->
 
  <Test ID = "TC.IMAGING-Feat.120_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBlurry - no this feature</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
				<ImageTooBlurry wstop:topic="true">
 						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription> 
						  

				</ImageTooBlurry>
				
				<ImageTooDark wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooDark>
				
				<ImageTooBright wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</ImageTooBright>
				
				<GlobalSceneChange wstop:topic="true">
						<tt:MessageDescription IsProperty="1">
							  <tt:Source>
								<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
								<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
							  </tt:Source>
							  <tt:Key>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							  </tt:Key>
							  <tt:Data>
								<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
							  </tt:Data>
							</tt:MessageDescription>
				
						<ImagingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</ImagingService>
						
						<AnalyticsService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</AnalyticsService>
						
						<RecordingService wstop:topic="true">
									<tt:MessageDescription IsProperty="1">
									  <tt:Source>
										<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
										<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
									  </tt:Source>
									  <tt:Key>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									  </tt:Key>
									  <tt:Data>
										<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
										<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
									  </tt:Data>
									</tt:MessageDescription>
						</RecordingService>
				</GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.121_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooDark - no this feature</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
            
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
        </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.122_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only tns1:VideoSource/ImageTooBright - no this feature</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>


            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>

  <Test ID = "TC.IMAGING-Feat.123_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Only Contains tns1:VideoSource/GlobalSceneChange - no this feature</Name>
    <Description>  
		All Tampering Events supported		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>

            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.124_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: No Image Too Blurry No VideoSource/ImageTooBlurry/ - no this feature</Name>
    <Description>  
		No Image Too Blurry
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">

			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.125_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: VideoSource/ImageTooBlurry/Other topic - no this feature</Name>
    <Description>  
		No Image Too Blurry 
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
             <ImageTooBlurry>

					  
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </ImageTooBlurry> 
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.126_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: No VideoSource/ImageTooDark/ - no this feature</Name>
    <Description>  
		No Image Too Dark 
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			

			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.127_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: VideoSource/ImageTooDark/Other - no this feature</Name>
    <Description>  
		No Image Too Dark 
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark>

			
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.128_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: No VideoSource/ImageTooBright/ - no this feature</Name>
    <Description>  
		No Image Too Bright 
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			

			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.129_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: VideoSource/ImageTooBright/Other - no this feature</Name>
    <Description>  
		No Image Too Bright 
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright>

			
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.130_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: No VideoSource/GlobalSceneChange/ - no this feature</Name>
    <Description>  
		No Global Scene Change 
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
	          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
		

          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.131_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: VideoSource/GlobalSceneChange/Other - no this feature</Name>
    <Description>  
		No Global Scene Change 
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange>

			
					<Imaging2Service wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</Imaging2Service>
					

            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
  <Test ID = "TC.IMAGING-Feat.132_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: No VideoSource/MotionAlarm - no this feature</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="2">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	

	</Test>
 
 <!-- Focus Control -->
 
  <Test ID = "TC.IMAGING-Feat.133_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 1 VS - Focus Control supported (Absolute, Relative, Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.134_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control supported (Absolute)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.135_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control supported (Relative)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
   <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
<!--           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> -->
          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
<!--           <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous> -->
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.136_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control supported (Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
<!--           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> -->
<!--           <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative> -->
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.137_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control not supported (empty resp)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <!-- <tt:Mode>OFF</tt:Mode> -->
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
 
  <Test ID = "TC.IMAGING-Feat.138_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Focus Control not supported (correct fault)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
 		  
		  
		  </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <!-- <tt:Mode>OFF</tt:Mode> -->
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> 
<!--           <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative> -->
<!--           <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous> -->
        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.139_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - 1st supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>

    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

			</tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
<!--           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> -->
<!--           <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative> -->
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.140_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - 1st w/empty resp.; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
   <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

			</tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
<!--           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> -->
<!--           <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative> -->
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.141_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - 1st w/correct fault; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>

			</tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
<!--           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> -->
<!--           <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative> -->
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.142_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.143_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Absolute, Relative, Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.144_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Absolute)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>
          
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.145_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Relative)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative>
          
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.146_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control supported (Continuous)</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.147_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control not supported (empty resp)</Name>
    <Description>  
		All topics present
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

<!--           <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous> -->
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.148_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - Focus Control not supported (correct fault)</Name>
    <Description>  
		All topics present
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

<!--           <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous> -->
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.149_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - 1st supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	</Test>

  <Test ID = "TC.IMAGING-Feat.150_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - 1st w/empty resp.; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
<!--           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> -->
<!--           <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative> -->
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.151_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - 1st w/correct fault; 2nd supports</Name>
    <Description>  
		1st has 1 IrCutFilterMode
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
	<Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
     <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
<!--           <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute> -->
<!--           <tt:Relative>
            <tt:Distance>
              <tt:Min>-10</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Distance>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:Speed>
          </tt:Relative> -->
          <tt:Continuous>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Continuous>
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.152_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 2 VS - both doesn't support</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
	<Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>
		
    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoImagingForSource</Subcode>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
  
  
<!-- Negative --> 

			<!-- GetServices: -->
			
  <Test ID = "TC.IMAGING-Feat.201" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: no imaging service</Name>
    <Description>  

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
<!--           <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service> -->

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
        </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

	</Test>

  <Test ID = "TC.IMAGING-Feat.202" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: no Media Service address or DeviceIO Service address</Name>
    <Description>  
		 IrCutFilter configuration not supported
		 Focus Control undefined
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
<!--           <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service> -->
<!--           <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service> -->
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

	</Test>
	
			<!-- GetCapabilities: -->
			
  <Test ID = "TC.IMAGING-Feat.203" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: no imaging</Name>
    <Description>  

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
<!--           <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging> -->
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

	</Test>
	
  <Test ID = "TC.IMAGING-Feat.204" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: no Media Service address or DeviceIO Service address</Name>
    <Description>  
		IrCutFilter configuration not supported
		 Focus Control undefined
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

	</Test>
	
	
<!-- Fault -->

			<!-- GetServices: -->
		
  <Test ID = "TC.IMAGING-Feat.301_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Fault on DeviceIO10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Fault</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.302_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; Fault on Media10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Fault</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.303_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Fault on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
            
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
        </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.304_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; Fault on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.305_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; Fault on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Fault</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.306_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; Fault on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Fault</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.307_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 1 VS - w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>

      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	
	</Test>

  <Test ID = "TC.IMAGING-Feat.308_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
		
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>

      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
  
  <Test ID = "TC.IMAGING-Feat.309_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 3 VS - 2nd w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
		  <string>3</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.310_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 3 VS - 2nd w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>
		
    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>

      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>

	
			<!-- GetCapabilities: -->	
	
  <Test ID = "TC.IMAGING-Feat.301_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; Fault on DeviceIO10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Fault</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.302_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; Fault on Media10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Fault</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.303_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; Fault on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
            
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
        </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.304_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; Fault on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.305_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; Fault on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Fault</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.306_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; Fault on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Fault</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
		
  <Test ID = "TC.IMAGING-Feat.307_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; 1 VS - w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>

      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.308_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; 1 VS - w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
	<Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
		
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
  
  <Test ID = "TC.IMAGING-Feat.309_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; 3 VS - 2nd w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  <string>2</string>
		  <string>3</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>

      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.310_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; 3 VS - 2nd w/incorrect fault</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
	<Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
          <VideoSource token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id="15">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
		  <tt:IrCutFilterModes>AUTO</tt:IrCutFilterModes>    
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="16">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>
		
    <Step id ="17">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
        <VideoSourceToken>2</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
  

<!-- NoResponse -->


			<!-- GetServices: -->
		
  <Test ID = "TC.IMAGING-Feat.401_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; NoResponse on DeviceIO10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>NoResponse</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.402_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; NoResponse on Media10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>NoResponse</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.403_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; NoResponse on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
            
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
        </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.404_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; NoResponse on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.405_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; NoResponse on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>NoResponse</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.406_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; NoResponse on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>NoResponse</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>

  <Test ID = "TC.IMAGING-Feat.407_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: DeviceIO Service; 1 VS - NoResponse no GetMoveOptions</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>NoResponse</Response>

      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>


	
	</Test>

  <Test ID = "TC.IMAGING-Feat.408_1" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetServices: Media Service; 1 VS - NoResponse no GetMoveOptions</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
		
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>NoResponse</Response>


      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>

	
	
	
	
			<!-- GetCapabilities: -->	
	
  <Test ID = "TC.IMAGING-Feat.401_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; NoResponse on DeviceIO10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>NoResponse</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.402_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; NoResponse on Media10.GetVideoSources</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>NoResponse</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.403_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; NoResponse on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.404_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; NoResponse on GetOptions</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>

    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.405_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; NoResponse on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
<!--           <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media> -->
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>NoResponse</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
           
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
         </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
	
  <Test ID = "TC.IMAGING-Feat.406_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; NoResponse on GetEventProperties</Name>
    <Description>  
		All topics present
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
             <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO> 
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
<!--             <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO> -->
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>NoResponse</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <tt:IrCutFilterModes>ON</tt:IrCutFilterModes>
          <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes>
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	

    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Absolute>
            <tt:Position>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Position>
            <tt:Speed>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:Speed>
          </tt:Absolute>

        </MoveOptions20>
      </ResponseParameters>
    </Step>
	
	</Test>
		
  <Test ID = "TC.IMAGING-Feat.407_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: DeviceIO Service; 1 VS - NoResponse no GetMoveOptions</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>

          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>DeviceIO10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfString>
          <string>1</string>
		  
        </ArrayOfString>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:BacklightCompensation>
            <tt:Mode>ON</tt:Mode>
            <tt:Mode>OFF</tt:Mode>
            <tt:Level>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:Level>
          </tt:BacklightCompensation>
           
           
          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          
 
          <tt:Extension>
            <tt:ImageStabilization>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
              <tt:Mode>AUTO</tt:Mode>
              <tt:Mode>Extended</tt:Mode>
              <tt:Level>
                <tt:Min>0</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:Level>
            </tt:ImageStabilization>
            <tt:Extension>
				<tt:IrCutFilterAutoAdjustment>
					<tt:BoundaryType>Common</tt:BoundaryType>
					<tt:BoundaryType>ToOn</tt:BoundaryType>
					<tt:BoundaryType>ToOff</tt:BoundaryType>
					<tt:BoundaryType>Extended</tt:BoundaryType>
					<tt:BoundaryOffset>true</tt:BoundaryOffset>
					<tt:ResponseTimeRange>
						<tt:Min>PT1S</tt:Min>
						<tt:Max>PT60S</tt:Max>
					</tt:ResponseTimeRange>
				</tt:IrCutFilterAutoAdjustment>
				<tt:Extension>
					<tt:ToneCompensationOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:ToneCompensationOptions>
					<tt:DefoggingOptions>
						<tt:Mode>OFF</tt:Mode>
						<tt:Mode>ON</tt:Mode>
						<tt:Mode>AUTO</tt:Mode>
						<tt:Level>true</tt:Level>
					</tt:DefoggingOptions>
					<tt:NoiseReductionOptions>
						<tt:Level>true</tt:Level>
					</tt:NoiseReductionOptions>
              
				</tt:Extension>
            </tt:Extension>          
           </tt:Extension>
          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
	
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>NoResponse</Response>

      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">
 
        </MoveOptions20>
      </ResponseParameters>
    </Step>

	
	</Test>

  <Test ID = "TC.IMAGING-Feat.408_2" ONVIFTestID="IMAGING-Feat" Enabled="true">
    <TestName>Media2 Service Features</TestName>
    <Name>GetCapabilities: Media Service; 1 VS - NoResponse no GetMoveOptions</Name>
    <Description>  
		1st has 0 IrCutFilterMode
		2nd doesn't have OFF
		</Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
	<Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
 
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>  

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step> 
	
    <Step id="4">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
 
    <Step id ="9">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities VideoSources="2" VideoOutputs="2" AudioSources="2" AudioAutputs="2" RelayOutputs="2" DigitalInputs="1"/>
      </ResponseParameters>
    </Step>

	<Step id ="10">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          <!-- tns1:Device/Trigger/Relay-->
          <tns1:VideoSource xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
            <ImageTooBlurry wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
					  
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBlurry>
			
            <ImageTooDark wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooDark>
			
            <ImageTooBright wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </ImageTooBright>
			
            <GlobalSceneChange wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
			
					<ImagingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</ImagingService>
					
					<AnalyticsService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</AnalyticsService>
					
					<RecordingService wstop:topic="true">
								<tt:MessageDescription IsProperty="1">
								  <tt:Source>
									<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
									<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
								  </tt:Source>
								  <tt:Key>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
								  </tt:Key>
								  <tt:Data>
									<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
									<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
								  </tt:Data>
								</tt:MessageDescription>
					</RecordingService>
            </GlobalSceneChange>
          
            <MotionAlarm wstop:topic="true">
					<tt:MessageDescription IsProperty="1">
						  <tt:Source>
							<tt:SimpleItemDescription Name="RelayToken" Type="tt:ReferenceToken"/>
							<tt:SimpleItemDescription Name="RelayToken1" Type="tt:ReferenceToken"/>
						  </tt:Source>
						  <tt:Key>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
						  </tt:Key>
						  <tt:Data>
							<tt:SimpleItemDescription Name="LogicalState" Type="tt:RelayLogicalState"/>
							<tt:SimpleItemDescription Name="LogicalState1" Type="tt:RelayLogicalState"/>
						  </tt:Data>
						</tt:MessageDescription>
            </MotionAlarm>
          </tns1:VideoSource>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>

    <Step id="11">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>

    <Step id="12">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters />
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>0</tt:Framerate>
            <tt:Resolution>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
	
    <Step id="14">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 xmlns:tt="http://www.onvif.org/ver10/schema">

          <!-- <tt:IrCutFilterModes>ON</tt:IrCutFilterModes> -->
          <!-- <tt:IrCutFilterModes>OFF</tt:IrCutFilterModes> -->
          

          
        </ImagingOptions20>
      </ResponseParameters>
    </Step>	
		
    <Step id ="15">
      <Command>Imaging20.GetMoveOptions</Command>
      <Response>NoResponse</Response>

      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <MoveOptions20 p2:any_Attr="anySimpleType"
                       xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl"
                       xmlns:tt="http://www.onvif.org/ver10/schema">

        </MoveOptions20>
      </ResponseParameters>
    </Step>


	</Test>
  






  
  </TestSuit>
