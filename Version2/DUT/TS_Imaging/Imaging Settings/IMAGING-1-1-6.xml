<?xml version="1.0" encoding="utf-8" ?>
<TestSuit Name="IMAGING" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>IMAGING-1-1-6 IMAGING COMMAND SETIMAGINGSETTINGS</Name>
    <Description>
    </Description>
  </Parameters>
  <Test ID = "TC.IMAGING-1-1-6.01" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Correct response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns correct response.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <Priority>LowNoise</Priority>
            <Priority>FrameRate</Priority>
            <MinExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MinExposureTime>
            <MaxExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MaxExposureTime>
            <MinGain>
              <Min>1</Min>
              <Max>2</Max>
            </MinGain>
            <MaxGain>
              <Min>1</Min>
              <Max>2</Max>
            </MaxGain>
            <MinIris>
              <Min>1</Min>
              <Max>2</Max>
            </MinIris>
            <MaxIris>
              <Min>1</Min>
              <Max>2</Max>
            </MaxIris>
            <ExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </ExposureTime>
            <Gain>
              <Min>1</Min>
              <Max>2</Max>
            </Gain>
            <Iris>
              <Min>1</Min>
              <Max>2</Max>
            </Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusModes>AUTO</AutoFocusModes>
            <AutoFocusModes>MANUAL</AutoFocusModes>
            <DefaultSpeed>
              <Min>1</Min>
              <Max>2</Max>
            </DefaultSpeed>
            <NearLimit>
              <Min>1</Min>
              <Max>2</Max>
            </NearLimit>
            <FarLimit>
              <Min>1</Min>
              <Max>2</Max>
            </FarLimit>
            <Extension />
          </Focus>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilterModes>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <YrGain>
              <Min>1</Min>
              <Max>2</Max>
            </YrGain>
            <YbGain>
              <Min>1</Min>
              <Max>2</Max>
            </YbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">1</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
          </Focus>
          <IrCutFilter>OFF</IrCutFilter>
          <Sharpness>2</Sharpness>
          <WideDynamicRange>
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IMAGING-1-1-6.02" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Correct response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when only one value exists for each mode in GetOptionsResponse and DUT returns correct response.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <Priority>FrameRate</Priority>
            <MinExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MinExposureTime>
            <MaxExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MaxExposureTime>
            <MinGain>
              <Min>1</Min>
              <Max>2</Max>
            </MinGain>
            <MaxGain>
              <Min>1</Min>
              <Max>2</Max>
            </MaxGain>
            <MinIris>
              <Min>1</Min>
              <Max>2</Max>
            </MinIris>
            <MaxIris>
              <Min>1</Min>
              <Max>2</Max>
            </MaxIris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusModes>AUTO</AutoFocusModes>
            <NearLimit>
              <Min>1</Min>
              <Max>2</Max>
            </NearLimit>
            <FarLimit>
              <Min>1</Min>
              <Max>2</Max>
            </FarLimit>
            <Extension />
          </Focus>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilterModes>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">1</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>FrameRate</Priority>
            <MinExposureTime>2</MinExposureTime>
            <MaxExposureTime>2</MaxExposureTime>
            <MinGain>2</MinGain>
            <MaxGain>2</MaxGain>
            <MinIris>2</MinIris>
            <MaxIris>2</MaxIris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>2</NearLimit>
            <FarLimit>2</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>2</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>FrameRate</Priority>
            <MinExposureTime>2</MinExposureTime>
            <MaxExposureTime>2</MaxExposureTime>
            <MinGain>2</MinGain>
            <MaxGain>2</MaxGain>
            <MinIris>2</MinIris>
            <MaxIris>2</MaxIris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>2</NearLimit>
            <FarLimit>2</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IMAGING-1-1-6.03" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Correct response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when only one value exists for each mode (other then in 02) in GetOptionsResponse and DUT returns correct response.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </ExposureTime>
            <Gain>
              <Min>1</Min>
              <Max>2</Max>
            </Gain>
            <Iris>
              <Min>1</Min>
              <Max>2</Max>
            </Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusModes>MANUAL</AutoFocusModes>
            <DefaultSpeed>
              <Min>1</Min>
              <Max>2</Max>
            </DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilterModes>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <YrGain>
              <Min>1</Min>
              <Max>2</Max>
            </YrGain>
            <YbGain>
              <Min>1</Min>
              <Max>2</Max>
            </YbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">1</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>2</Level>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>2</ExposureTime>
            <Gain>2</Gain>
            <Iris>2</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>2</DefaultSpeed>
          </Focus>
          <IrCutFilter>OFF</IrCutFilter>
          <Sharpness>2</Sharpness>
          <WideDynamicRange>
            <Mode>ON</Mode>
            <Level>2</Level>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>2</CrGain>
            <CbGain>2</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>2</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>2</ExposureTime>
            <Gain>2</Gain>
            <Iris>2</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>2</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>2</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>2</CrGain>
            <CbGain>2</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IMAGING-1-1-6.04" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Incorrect response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns incorrect imaging options.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        Level defined for BacklightCompensation while Mode is OFF
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </BacklightCompensation>
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IMAGING-1-1-6.05" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Correct response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns not all settings supported by options.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <Priority>LowNoise</Priority>
            <Priority>FrameRate</Priority>
            <MinExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MinExposureTime>
            <MaxExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MaxExposureTime>
            <MinGain>
              <Min>1</Min>
              <Max>2</Max>
            </MinGain>
            <MaxGain>
              <Min>1</Min>
              <Max>2</Max>
            </MaxGain>
            <MinIris>
              <Min>1</Min>
              <Max>2</Max>
            </MinIris>
            <MaxIris>
              <Min>1</Min>
              <Max>2</Max>
            </MaxIris>
            <ExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </ExposureTime>
            <Gain>
              <Min>1</Min>
              <Max>2</Max>
            </Gain>
            <Iris>
              <Min>1</Min>
              <Max>2</Max>
            </Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusModes>AUTO</AutoFocusModes>
            <AutoFocusModes>MANUAL</AutoFocusModes>
            <DefaultSpeed>
              <Min>1</Min>
              <Max>2</Max>
            </DefaultSpeed>
            <NearLimit>
              <Min>1</Min>
              <Max>2</Max>
            </NearLimit>
            <FarLimit>
              <Min>1</Min>
              <Max>2</Max>
            </FarLimit>
            <Extension />
          </Focus>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilterModes>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <YrGain>
              <Min>1</Min>
              <Max>2</Max>
            </YrGain>
            <YbGain>
              <Min>1</Min>
              <Max>2</Max>
            </YbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">1</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IMAGING-1-1-6.06" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Correct response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns not all settings supported by options.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:22467/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <Priority>LowNoise</Priority>
            <Priority>FrameRate</Priority>
            <MinExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MinExposureTime>
            <MaxExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MaxExposureTime>
            <MinGain>
              <Min>1</Min>
              <Max>2</Max>
            </MinGain>
            <MaxGain>
              <Min>1</Min>
              <Max>2</Max>
            </MaxGain>
            <MinIris>
              <Min>1</Min>
              <Max>2</Max>
            </MinIris>
            <MaxIris>
              <Min>1</Min>
              <Max>2</Max>
            </MaxIris>
            <ExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </ExposureTime>
            <Gain>
              <Min>1</Min>
              <Max>2</Max>
            </Gain>
            <Iris>
              <Min>1</Min>
              <Max>2</Max>
            </Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusModes>AUTO</AutoFocusModes>
            <AutoFocusModes>MANUAL</AutoFocusModes>
            <DefaultSpeed>
              <Min>1</Min>
              <Max>2</Max>
            </DefaultSpeed>
            <NearLimit>
              <Min>1</Min>
              <Max>2</Max>
            </NearLimit>
            <FarLimit>
              <Min>1</Min>
              <Max>2</Max>
            </FarLimit>
            <Extension />
          </Focus>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilterModes>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <YrGain>
              <Min>1</Min>
              <Max>2</Max>
            </YrGain>
            <YbGain>
              <Min>1</Min>
              <Max>2</Max>
            </YbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">1</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IMAGING-1-1-6.07" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Wrong response (Expected and actual settings are different)</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns wrong response (Expected and actual settings are different).

      Expected and actual settings are different.
      Brightness: expected - 255, actual - 2
      Color saturation: expected - 255, actual - 2
      Contrast: expected - 255, actual - 2
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        Expected and actual settings are different.
        Brightness: expected - 255, actual - 2
        Color saturation: expected - 255, actual - 2
        Contrast: expected - 255, actual - 2
        STEP FAILED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>255</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>255</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>255</Max>
          </Contrast>
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <Brightness>255</Brightness>
          <ColorSaturation>255</ColorSaturation>
          <Contrast>255</Contrast>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "TC.IMAGING-1-1-6.08" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Correct response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns correct response.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
          </Exposure>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <YrGain>
              <Min>1</Min>
              <Max>2</Max>
            </YrGain>
            <YbGain>
              <Min>1</Min>
              <Max>2</Max>
            </YbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
          </Exposure>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
          </Exposure>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <Brightness>1</Brightness>
          <Exposure>
            <Mode>AUTO</Mode>
          </Exposure>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IMAGING-1-1-6.09" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Correct response</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns correct response.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <Priority>LowNoise</Priority>
            <Priority>FrameRate</Priority>
            <MinExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MinExposureTime>
            <MaxExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MaxExposureTime>
            <MinGain>
              <Min>1</Min>
              <Max>2</Max>
            </MinGain>
            <MaxGain>
              <Min>1</Min>
              <Max>2</Max>
            </MaxGain>
            <MinIris>
              <Min>1</Min>
              <Max>2</Max>
            </MinIris>
            <MaxIris>
              <Min>1</Min>
              <Max>2</Max>
            </MaxIris>
            <ExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </ExposureTime>
            <Gain>
              <Min>1</Min>
              <Max>2</Max>
            </Gain>
            <Iris>
              <Min>1</Min>
              <Max>2</Max>
            </Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusModes>AUTO</AutoFocusModes>
            <AutoFocusModes>MANUAL</AutoFocusModes>
            <DefaultSpeed>
              <Min>1</Min>
              <Max>2</Max>
            </DefaultSpeed>
            <NearLimit>
              <Min>1</Min>
              <Max>2</Max>
            </NearLimit>
            <FarLimit>
              <Min>1</Min>
              <Max>2</Max>
            </FarLimit>
            <Extension />
          </Focus>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilterModes>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <YrGain>
              <Min>1</Min>
              <Max>2</Max>
            </YrGain>
            <YbGain>
              <Min>1</Min>
              <Max>2</Max>
            </YbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">1</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
          </Focus>
          <IrCutFilter>OFF</IrCutFilter>
          <Sharpness>2</Sharpness>
          <WideDynamicRange>
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
            <MinExposureTime>1</MinExposureTime>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "TC.IMAGING-1-1-6.10" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>All parameters in Get</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns correct response.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        STEP PASSED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://localhost:11569/onvif/ServiceImaging20/ImagingService20.asmx</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:11569/onvif/ServiceMedia10/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl" xmlns:ptzimg2="http://www.onvif.org/ver10/schema" xmlns:ptzimg3="http://www.w3.org/2005/05/xmlmime" xmlns:ptzimg4="http://docs.oasis-open.org/wsn/b-2" xmlns:ptzimg5="http://docs.oasis-open.org/wsrf/bf-2" xmlns:ptzimg6="http://docs.oasis-open.org/wsn/t-1" xmlns:ptzimg1="http://www.onvif.org/ver20/ptz/wsdl" xmlns:ptzimg7="http://www.onvif.org/ver20/imaging/wsdl" xmlns:ter="http://www.onvif.org/ver10/error">
          <ptzimg2:Brightness>
            <ptzimg2:Min>-8.000000</ptzimg2:Min>
            <ptzimg2:Max>8.000000</ptzimg2:Max>
          </ptzimg2:Brightness>
          <ptzimg2:Exposure>
            <ptzimg2:Mode>AUTO</ptzimg2:Mode>
            <ptzimg2:Mode>MANUAL</ptzimg2:Mode>
            <ptzimg2:Priority>FrameRate</ptzimg2:Priority>
            <ptzimg2:MinExposureTime>
              <ptzimg2:Min>125.000000</ptzimg2:Min>
              <ptzimg2:Max>125.000000</ptzimg2:Max>
            </ptzimg2:MinExposureTime>
            <ptzimg2:MaxExposureTime>
              <ptzimg2:Min>125000.000000</ptzimg2:Min>
              <ptzimg2:Max>125000.000000</ptzimg2:Max>
            </ptzimg2:MaxExposureTime>
            <ptzimg2:MinGain>
              <ptzimg2:Min>40.000000</ptzimg2:Min>
              <ptzimg2:Max>50.000000</ptzimg2:Max>
            </ptzimg2:MinGain>
            <ptzimg2:MaxGain>
              <ptzimg2:Min>42.000000</ptzimg2:Min>
              <ptzimg2:Max>42.000000</ptzimg2:Max>
            </ptzimg2:MaxGain>
            <ptzimg2:MinIris>
              <ptzimg2:Min>-40.200000</ptzimg2:Min>
              <ptzimg2:Max>-40.200000</ptzimg2:Max>
            </ptzimg2:MinIris>
            <ptzimg2:MaxIris>
              <ptzimg2:Min>15.000000</ptzimg2:Min>
              <ptzimg2:Max>20.000000</ptzimg2:Max>
            </ptzimg2:MaxIris>
            <ptzimg2:ExposureTime>
              <ptzimg2:Min>125.000000</ptzimg2:Min>
              <ptzimg2:Max>1000000.000000</ptzimg2:Max>
            </ptzimg2:ExposureTime>
            <ptzimg2:Gain>
              <ptzimg2:Min>9.000000</ptzimg2:Min>
              <ptzimg2:Max>60.000000</ptzimg2:Max>
            </ptzimg2:Gain>
            <ptzimg2:Iris>
              <ptzimg2:Min>-50.200000</ptzimg2:Min>
              <ptzimg2:Max>-10.000000</ptzimg2:Max>
            </ptzimg2:Iris>
          </ptzimg2:Exposure>
          <ptzimg2:Focus>
            <ptzimg2:AutoFocusModes>AUTO</ptzimg2:AutoFocusModes>
            <ptzimg2:AutoFocusModes>MANUAL</ptzimg2:AutoFocusModes>
            <ptzimg2:DefaultSpeed>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>0.000000</ptzimg2:Max>
            </ptzimg2:DefaultSpeed>
            <ptzimg2:NearLimit>
              <ptzimg2:Min>0.300000</ptzimg2:Min>
              <ptzimg2:Max>0.300000</ptzimg2:Max>
            </ptzimg2:NearLimit>
            <ptzimg2:FarLimit>
              <ptzimg2:Min>INF</ptzimg2:Min>
              <ptzimg2:Max>INF</ptzimg2:Max>
            </ptzimg2:FarLimit>
          </ptzimg2:Focus>
          <ptzimg2:IrCutFilterModes>ON</ptzimg2:IrCutFilterModes>
          <ptzimg2:IrCutFilterModes>OFF</ptzimg2:IrCutFilterModes>
          <ptzimg2:IrCutFilterModes>AUTO</ptzimg2:IrCutFilterModes>
          <ptzimg2:WhiteBalance>
            <ptzimg2:Mode>AUTO</ptzimg2:Mode>
            <ptzimg2:Mode>MANUAL</ptzimg2:Mode>
            <ptzimg2:YrGain>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>1023.000000</ptzimg2:Max>
            </ptzimg2:YrGain>
            <ptzimg2:YbGain>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>1023.000000</ptzimg2:Max>
            </ptzimg2:YbGain>
          </ptzimg2:WhiteBalance>
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <Brightness>-8</Brightness>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>125</ExposureTime>
            <Gain>9</Gain>
            <Iris>-50,2</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>0,3</NearLimit>
            <FarLimit>бесконечность</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <WhiteBalance>
            <Mode>AUTO</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">-8</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">-50.2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposurePriority>LowNoise</ExposurePriority>
            <Window>
              <bottom>1</bottom>
              <top>2</top>
              <right>3</right>
              <left>0</left>
            </Window>
            <MaxExposureTime>125</MaxExposureTime>
            <MinGain>0</MinGain>
            <MaxGain>2</MaxGain>
            <MinIris>0</MinIris>
            <MaxIris>2</MaxIris>
            <ExposureTime>125</ExposureTime>
            <Gain>9</Gain>
            <Iris>-50.2</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>0.3</NearLimit>
            <FarLimit>INF</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter>AUTO</IrCutFilter>
          <Sharpness>2</Sharpness>
          <WideDynamicRange>
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension/>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "TC.IMAGING-1-1-6.11" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>All parameters in Get (wrong values)</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns correct response.
      
      Ignore values in test results for DUT.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        Expected and actual settings are different.
        Brightness: expected - -8, actual - 2

        Exposure mode: expected - AUTO, actual - MANUAL

        Min Exposure Time specified: expected - True, actual - False

        Max Exposure Time: expected - 125000, actual - 12

        Min Gain: expected - 40, actual - 0

        Max Gain: expected - 42, actual - 2

        Min Iris: expected - -40,2, actual - 0

        Max Iris: expected - 15, actual - 2

        Priority specified specified: expected - True, actual - False

        AutoFocus mode: expected - AUTO, actual - MANUAL

        Far Limit: expected - Positive infinity, actual - 4

        Near Limit: expected - 0,3, actual - 2

        IrCutFilter: expected - ON, actual - AUTO

        White balance mode: expected - AUTO, actual - MANUAL

        Wide Dynamic Range level: expected - 0, actual - 1
        STEP FAILED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://localhost:11569/onvif/ServiceImaging20/ImagingService20.asmx</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:11569/onvif/ServiceMedia10/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl" xmlns:ptzimg2="http://www.onvif.org/ver10/schema" xmlns:ptzimg3="http://www.w3.org/2005/05/xmlmime" xmlns:ptzimg4="http://docs.oasis-open.org/wsn/b-2" xmlns:ptzimg5="http://docs.oasis-open.org/wsrf/bf-2" xmlns:ptzimg6="http://docs.oasis-open.org/wsn/t-1" xmlns:ptzimg1="http://www.onvif.org/ver20/ptz/wsdl" xmlns:ptzimg7="http://www.onvif.org/ver20/imaging/wsdl" xmlns:ter="http://www.onvif.org/ver10/error">
          <ptzimg2:Brightness>
            <ptzimg2:Min>-8.000000</ptzimg2:Min>
            <ptzimg2:Max>8.000000</ptzimg2:Max>
          </ptzimg2:Brightness>
          <ptzimg2:Exposure>
            <ptzimg2:Mode>AUTO</ptzimg2:Mode>
            <ptzimg2:Mode>MANUAL</ptzimg2:Mode>
            <ptzimg2:Priority>FrameRate</ptzimg2:Priority>
            <ptzimg2:MinExposureTime>
              <ptzimg2:Min>125.000000</ptzimg2:Min>
              <ptzimg2:Max>125.000000</ptzimg2:Max>
            </ptzimg2:MinExposureTime>
            <ptzimg2:MaxExposureTime>
              <ptzimg2:Min>125000.000000</ptzimg2:Min>
              <ptzimg2:Max>125000.000000</ptzimg2:Max>
            </ptzimg2:MaxExposureTime>
            <ptzimg2:MinGain>
              <ptzimg2:Min>40.000000</ptzimg2:Min>
              <ptzimg2:Max>50.000000</ptzimg2:Max>
            </ptzimg2:MinGain>
            <ptzimg2:MaxGain>
              <ptzimg2:Min>42.000000</ptzimg2:Min>
              <ptzimg2:Max>42.000000</ptzimg2:Max>
            </ptzimg2:MaxGain>
            <ptzimg2:MinIris>
              <ptzimg2:Min>-40.200000</ptzimg2:Min>
              <ptzimg2:Max>-40.200000</ptzimg2:Max>
            </ptzimg2:MinIris>
            <ptzimg2:MaxIris>
              <ptzimg2:Min>15.000000</ptzimg2:Min>
              <ptzimg2:Max>20.000000</ptzimg2:Max>
            </ptzimg2:MaxIris>
            <ptzimg2:ExposureTime>
              <ptzimg2:Min>125.000000</ptzimg2:Min>
              <ptzimg2:Max>1000000.000000</ptzimg2:Max>
            </ptzimg2:ExposureTime>
            <ptzimg2:Gain>
              <ptzimg2:Min>9.000000</ptzimg2:Min>
              <ptzimg2:Max>60.000000</ptzimg2:Max>
            </ptzimg2:Gain>
            <ptzimg2:Iris>
              <ptzimg2:Min>-50.200000</ptzimg2:Min>
              <ptzimg2:Max>-10.000000</ptzimg2:Max>
            </ptzimg2:Iris>
          </ptzimg2:Exposure>
          <ptzimg2:Focus>
            <ptzimg2:AutoFocusModes>AUTO</ptzimg2:AutoFocusModes>
            <ptzimg2:AutoFocusModes>MANUAL</ptzimg2:AutoFocusModes>
            <ptzimg2:DefaultSpeed>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>0.000000</ptzimg2:Max>
            </ptzimg2:DefaultSpeed>
            <ptzimg2:NearLimit>
              <ptzimg2:Min>0.300000</ptzimg2:Min>
              <ptzimg2:Max>0.300000</ptzimg2:Max>
            </ptzimg2:NearLimit>
            <ptzimg2:FarLimit>
              <ptzimg2:Min>INF</ptzimg2:Min>
              <ptzimg2:Max>INF</ptzimg2:Max>
            </ptzimg2:FarLimit>
          </ptzimg2:Focus>
          <ptzimg2:IrCutFilterModes>ON</ptzimg2:IrCutFilterModes>
          <ptzimg2:IrCutFilterModes>OFF</ptzimg2:IrCutFilterModes>
          <ptzimg2:IrCutFilterModes>AUTO</ptzimg2:IrCutFilterModes>
          <ptzimg2:WhiteBalance>
            <ptzimg2:Mode>AUTO</ptzimg2:Mode>
            <ptzimg2:Mode>MANUAL</ptzimg2:Mode>
            <ptzimg2:YrGain>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>1023.000000</ptzimg2:Max>
            </ptzimg2:YrGain>
            <ptzimg2:YbGain>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>1023.000000</ptzimg2:Max>
            </ptzimg2:YbGain>
          </ptzimg2:WhiteBalance>
          <ptzimg2:WideDynamicRange>
            <ptzimg2:Mode>OFF</ptzimg2:Mode>
            <ptzimg2:Mode>ON</ptzimg2:Mode>
            <ptzimg2:Level>
              <ptzimg2:Min>0</ptzimg2:Min>
              <ptzimg2:Max>2</ptzimg2:Max>
            </ptzimg2:Level>
          </ptzimg2:WideDynamicRange>
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
          </Focus>
          <IrCutFilter>AUTO</IrCutFilter>
          <Sharpness>2</Sharpness>
          <WideDynamicRange>
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposurePriority>LowNoise</ExposurePriority>
            <Window>
              <bottom>1</bottom>
              <top>2</top>
              <right>3</right>
              <left>0</left>
            </Window>
            <MaxExposureTime>12</MaxExposureTime>
            <MinGain>0</MinGain>
            <MaxGain>2</MaxGain>
            <MinIris>0</MinIris>
            <MaxIris>2</MaxIris>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>2</NearLimit>
            <FarLimit>4</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
            <Level>15</Level>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "TC.IMAGING-1-1-6.12" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>Wrong response - IrCutFilter is wrong in Set and Get</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns wrong response.
      IrCutFilter is wrong in Set and Get (TT Set IrCutFilter = OFF,
      but DUT return OFF after Set)
      
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        Expected and actual settings are different.
        IrCutFilter: expected - OFF, actual - AUTO
        STEP FAILED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging_service</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media_service</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <Priority>LowNoise</Priority>
            <Priority>FrameRate</Priority>
            <MinExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MinExposureTime>
            <MaxExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </MaxExposureTime>
            <MinGain>
              <Min>1</Min>
              <Max>2</Max>
            </MinGain>
            <MaxGain>
              <Min>1</Min>
              <Max>2</Max>
            </MaxGain>
            <MinIris>
              <Min>1</Min>
              <Max>2</Max>
            </MinIris>
            <MaxIris>
              <Min>1</Min>
              <Max>2</Max>
            </MaxIris>
            <ExposureTime>
              <Min>1</Min>
              <Max>2</Max>
            </ExposureTime>
            <Gain>
              <Min>1</Min>
              <Max>2</Max>
            </Gain>
            <Iris>
              <Min>1</Min>
              <Max>2</Max>
            </Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusModes>AUTO</AutoFocusModes>
            <AutoFocusModes>MANUAL</AutoFocusModes>
            <DefaultSpeed>
              <Min>1</Min>
              <Max>2</Max>
            </DefaultSpeed>
            <NearLimit>
              <Min>1</Min>
              <Max>2</Max>
            </NearLimit>
            <FarLimit>
              <Min>1</Min>
              <Max>2</Max>
            </FarLimit>
            <Extension />
          </Focus>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">OFF</IrCutFilterModes>
          <IrCutFilterModes xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilterModes>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">
            <Min>1</Min>
            <Max>2</Max>
          </Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
            <Mode>ON</Mode>
            <Level>
              <Min>1</Min>
              <Max>2</Max>
            </Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Mode>MANUAL</Mode>
            <YrGain>
              <Min>1</Min>
              <Max>2</Max>
            </YrGain>
            <YbGain>
              <Min>1</Min>
              <Max>2</Max>
            </YbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">1</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">1</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">1</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">1</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness>2</Brightness>
          <ColorSaturation>2</ColorSaturation>
          <Contrast>2</Contrast>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
          </Focus>
          <IrCutFilter>OFF</IrCutFilter>
          <Sharpness>2</Sharpness>
          <WideDynamicRange>
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "TC.IMAGING-1-1-6.13" ONVIFTestID="IMAGING-1-1-6" Enabled="true">
    <TestName>IMAGING COMMAND SETIMAGESETTINGS</TestName>
    <Name>All parameters in Get, Wrong Iris</Name>
    <Description>
      Check IMAGING COMMAND SETIMAGESETTINGS test
      when DUT returns All parameters in Get, Wrong Iris.

      Ignore test result in DUT for last step.
    </Description>
    <ExpectedResult>
      <TestSummary>
        IMAGING-1-1-6 IMAGING COMMAND SETIMAGESETTINGS

        STEP 1 - Get imaging service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceImaging20/ImagingService20.asmx
        STEP PASSED

        STEP 2 - Get media service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceMedia10/MediaService.asmx
        STEP PASSED

        STEP 3 - Get video sources
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Check that the DUT returned video sources
        STEP PASSED

        STEP 5 - Get imaging options
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Validate options structure
        STEP PASSED

        STEP 7 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 8 - Set imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 9 - Get imaging settings
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Compare settings
        Expected and actual settings are different.
        Iris: expected - -50,2, actual - 6
        STEP FAILED

        STEP 11 - Restore imaging settings
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Imaging</Category>
      </RequestParameters>
      <ResponseParameters special="2">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Imaging>
            <tt:XAddr>http://localhost:11569/onvif/ServiceImaging20/ImagingService20.asmx</tt:XAddr>
          </tt:Imaging>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:11569/onvif/ServiceMedia10/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
            <tt:Extension>
              <tt:ProfileCapabilities>
                <tt:MaximumNumberOfProfiles>32</tt:MaximumNumberOfProfiles>
              </tt:ProfileCapabilities>
            </tt:Extension>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetVideoSources</Command>
      <Response>Normal</Response>
      <RequestParameters/>
      <ResponseParameters>
        <ArrayOfVideoSource>
          <VideoSource token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Framerate>30.000000</tt:Framerate>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
          </VideoSource>
        </ArrayOfVideoSource>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Imaging20.GetOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingOptions20 p2:any_Attr="anySimpleType" xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl" xmlns:ptzimg2="http://www.onvif.org/ver10/schema" xmlns:ptzimg3="http://www.w3.org/2005/05/xmlmime" xmlns:ptzimg4="http://docs.oasis-open.org/wsn/b-2" xmlns:ptzimg5="http://docs.oasis-open.org/wsrf/bf-2" xmlns:ptzimg6="http://docs.oasis-open.org/wsn/t-1" xmlns:ptzimg1="http://www.onvif.org/ver20/ptz/wsdl" xmlns:ptzimg7="http://www.onvif.org/ver20/imaging/wsdl" xmlns:ter="http://www.onvif.org/ver10/error">
          <ptzimg2:Brightness>
            <ptzimg2:Min>-8.000000</ptzimg2:Min>
            <ptzimg2:Max>8.000000</ptzimg2:Max>
          </ptzimg2:Brightness>
          <ptzimg2:Exposure>
            <ptzimg2:Mode>AUTO</ptzimg2:Mode>
            <ptzimg2:Mode>MANUAL</ptzimg2:Mode>
            <ptzimg2:Priority>FrameRate</ptzimg2:Priority>
            <ptzimg2:MinExposureTime>
              <ptzimg2:Min>125.000000</ptzimg2:Min>
              <ptzimg2:Max>125.000000</ptzimg2:Max>
            </ptzimg2:MinExposureTime>
            <ptzimg2:MaxExposureTime>
              <ptzimg2:Min>125000.000000</ptzimg2:Min>
              <ptzimg2:Max>125000.000000</ptzimg2:Max>
            </ptzimg2:MaxExposureTime>
            <ptzimg2:MinGain>
              <ptzimg2:Min>40.000000</ptzimg2:Min>
              <ptzimg2:Max>50.000000</ptzimg2:Max>
            </ptzimg2:MinGain>
            <ptzimg2:MaxGain>
              <ptzimg2:Min>42.000000</ptzimg2:Min>
              <ptzimg2:Max>42.000000</ptzimg2:Max>
            </ptzimg2:MaxGain>
            <ptzimg2:MinIris>
              <ptzimg2:Min>-40.200000</ptzimg2:Min>
              <ptzimg2:Max>-40.200000</ptzimg2:Max>
            </ptzimg2:MinIris>
            <ptzimg2:MaxIris>
              <ptzimg2:Min>15.000000</ptzimg2:Min>
              <ptzimg2:Max>20.000000</ptzimg2:Max>
            </ptzimg2:MaxIris>
            <ptzimg2:ExposureTime>
              <ptzimg2:Min>125.000000</ptzimg2:Min>
              <ptzimg2:Max>1000000.000000</ptzimg2:Max>
            </ptzimg2:ExposureTime>
            <ptzimg2:Gain>
              <ptzimg2:Min>9.000000</ptzimg2:Min>
              <ptzimg2:Max>60.000000</ptzimg2:Max>
            </ptzimg2:Gain>
            <ptzimg2:Iris>
              <ptzimg2:Min>-50.200000</ptzimg2:Min>
              <ptzimg2:Max>-10.000000</ptzimg2:Max>
            </ptzimg2:Iris>
          </ptzimg2:Exposure>
          <ptzimg2:Focus>
            <ptzimg2:AutoFocusModes>AUTO</ptzimg2:AutoFocusModes>
            <ptzimg2:AutoFocusModes>MANUAL</ptzimg2:AutoFocusModes>
            <ptzimg2:DefaultSpeed>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>0.000000</ptzimg2:Max>
            </ptzimg2:DefaultSpeed>
            <ptzimg2:NearLimit>
              <ptzimg2:Min>0.300000</ptzimg2:Min>
              <ptzimg2:Max>0.300000</ptzimg2:Max>
            </ptzimg2:NearLimit>
            <ptzimg2:FarLimit>
              <ptzimg2:Min>INF</ptzimg2:Min>
              <ptzimg2:Max>INF</ptzimg2:Max>
            </ptzimg2:FarLimit>
          </ptzimg2:Focus>
          <ptzimg2:IrCutFilterModes>ON</ptzimg2:IrCutFilterModes>
          <ptzimg2:IrCutFilterModes>OFF</ptzimg2:IrCutFilterModes>
          <ptzimg2:IrCutFilterModes>AUTO</ptzimg2:IrCutFilterModes>
          <ptzimg2:WhiteBalance>
            <ptzimg2:Mode>AUTO</ptzimg2:Mode>
            <ptzimg2:Mode>MANUAL</ptzimg2:Mode>
            <ptzimg2:YrGain>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>1023.000000</ptzimg2:Max>
            </ptzimg2:YrGain>
            <ptzimg2:YbGain>
              <ptzimg2:Min>0.000000</ptzimg2:Min>
              <ptzimg2:Max>1023.000000</ptzimg2:Max>
            </ptzimg2:YbGain>
          </ptzimg2:WhiteBalance>
        </ImagingOptions20>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">2</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <ExposureTime>1</ExposureTime>
            <Gain>1</Gain>
            <Iris>1</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>MANUAL</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">AUTO</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <Brightness>-8</Brightness>
          <Exposure>
            <Mode>MANUAL</Mode>
            <ExposureTime>125</ExposureTime>
            <Gain>9</Gain>
            <Iris>-50,2</Iris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>0,3</NearLimit>
            <FarLimit>бесконечность</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <WhiteBalance>
            <Mode>AUTO</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Imaging20.GetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
      </RequestParameters>
      <ResponseParameters>
        <ImagingSettings20 xmlns:p2="http://www.onvif.org/ver20/imaging/wsdl">
          <BacklightCompensation xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </BacklightCompensation>
          <Brightness xmlns="http://www.onvif.org/ver10/schema">-8</Brightness>
          <ColorSaturation xmlns="http://www.onvif.org/ver10/schema">-50.2</ColorSaturation>
          <Contrast xmlns="http://www.onvif.org/ver10/schema">2</Contrast>
          <Exposure xmlns="http://www.onvif.org/ver10/schema">
            <Mode>MANUAL</Mode>
            <ExposurePriority>LowNoise</ExposurePriority>
            <Window>
              <bottom>1</bottom>
              <top>2</top>
              <right>3</right>
              <left>0</left>
            </Window>
            <MaxExposureTime>125</MaxExposureTime>
            <MinGain>0</MinGain>
            <MaxGain>2</MaxGain>
            <MinIris>0</MinIris>
            <MaxIris>2</MaxIris>
            <ExposureTime>125</ExposureTime>
            <Gain>9</Gain>
            <Iris>6</Iris>
          </Exposure>
          <Focus xmlns="http://www.onvif.org/ver10/schema">
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>0.3</NearLimit>
            <FarLimit>INF</FarLimit>
            <Extension />
          </Focus>
          <IrCutFilter xmlns="http://www.onvif.org/ver10/schema">ON</IrCutFilter>
          <Sharpness xmlns="http://www.onvif.org/ver10/schema">2</Sharpness>
          <WideDynamicRange xmlns="http://www.onvif.org/ver10/schema">
            <Mode>ON</Mode>
            <Level>1</Level>
          </WideDynamicRange>
          <WhiteBalance xmlns="http://www.onvif.org/ver10/schema">
            <Mode>AUTO</Mode>
            <CrGain>1</CrGain>
            <CbGain>1</CbGain>
            <Extension />
          </WhiteBalance>
          <Extension xmlns="http://www.onvif.org/ver10/schema" />
        </ImagingSettings20>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Imaging20.SetImagingSettings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <VideoSourceToken>1</VideoSourceToken>
        <ImagingSettings>
          <BacklightCompensation>
            <Mode>OFF</Mode>
            <Level>15</Level>
          </BacklightCompensation>
          <Brightness>1</Brightness>
          <ColorSaturation>1</ColorSaturation>
          <Contrast>1</Contrast>
          <Exposure>
            <Mode>AUTO</Mode>
            <Priority>LowNoise</Priority>
            <MinExposureTime>1</MinExposureTime>
            <MaxExposureTime>1</MaxExposureTime>
            <MinGain>1</MinGain>
            <MaxGain>1</MaxGain>
            <MinIris>1</MinIris>
            <MaxIris>1</MaxIris>
          </Exposure>
          <Focus>
            <AutoFocusMode>AUTO</AutoFocusMode>
            <DefaultSpeed>1</DefaultSpeed>
            <NearLimit>1</NearLimit>
            <FarLimit>1</FarLimit>
          </Focus>
          <IrCutFilter>ON</IrCutFilter>
          <Sharpness>1</Sharpness>
          <WideDynamicRange>
            <Mode>OFF</Mode>
          </WideDynamicRange>
          <WhiteBalance>
            <Mode>AUTO</Mode>
          </WhiteBalance>
        </ImagingSettings>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
</TestSuit>
